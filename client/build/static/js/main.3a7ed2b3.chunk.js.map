{"version":3,"sources":["redux/actions/postAction.js","pages/post/[id].js","components/profile/EditProfile.js","components/profile/Following.js","components/profile/Followers.js","components/profile/ChangePassword.js","components/profile/Info.js","components/profile/Posts.js","components/profile/Saved.js","pages/profile/[id].js","components/message/MsgDisplay.js","components/message/RightSide.js","pages/message/[id].js","redux/actions/notifyAction.js","pages sync /^/.*$","redux/actions/adminAction.js","images/loading.gif","components/NotFound.js","customRouter/PageRender.js","customRouter/PrivateRouter.js","components/alert/Loading.js","components/alert/Toast.js","components/alert/Alert.js","components/NotifyModal.js","components/header/Menu.js","components/header/Header.js","components/StatusModal.js","audio/pristine-609.mp3","SocketClient.js","App.js","reportWebVitals.js","redux/reducers/authReducer.js","redux/reducers/userTypeReducer.js","redux/reducers/alertReducer.js","redux/reducers/themeReducer.js","redux/reducers/profileReducer.js","redux/reducers/statusReducer.js","redux/reducers/postReducer.js","redux/reducers/modalReducer.js","redux/reducers/detailPostReducer.js","redux/reducers/adminReducer.js","redux/reducers/discoverReducer.js","redux/reducers/suggestionsReducer.js","redux/reducers/socketReducer.js","redux/reducers/notifyReducer.js","redux/reducers/messageReducer.js","redux/reducers/index.js","redux/store.js","index.js","components/Avatar.js","components/UserCard.js","redux/actions/profileAction.js","redux/actions/globalTypes.js","redux/actions/messageAction.js","utils/valid.js","redux/actions/authAction.js","utils/mediaShow.js","redux/actions/suggestionsAction.js","utils/imageUpload.js","components/FollowBtn.js","components/LoadMoreBtn.js","redux/actions/discoverAction.js","components/header/Search.js","components/Icons.js","components/PostThumb.js","pages/login.js","pages/register.js","pages/message/index.js","pages/discover.js","components/adminDashboard/main/Main.js","components/adminDashboard/adminManagement/RegisterAdmin.js","components/adminDashboard/adminManagement/AdminManagement.js","components/adminDashboard/ContentList.js","components/adminDashboard/spamManagement/Spam.js","components/adminDashboard/usersManagement/deleteuserbtn.js","components/adminDashboard/usersManagement/userinfo.js","components/adminDashboard/usersManagement/UsersManagement.js","components/adminDashboard/sidebar/Sidebar.js","pages/adminDashboard.js","components/home/Status.js","components/home/RightSideBar.js","pages/home.js","components/home/Posts.js","components/message/LeftSide.js","components/Carousel.js","components/home/post_card/CardBody.js","components/LikeButton.js","components/ShareModal.js","components/home/post_card/CardFooter.js","components/home/post_card/CardHeader.js","utils/config.js","redux/actions/commentAction.js","components/home/comments/CommentMenu.js","components/home/InputComment.js","components/home/comments/CommentCard.js","components/home/comments/CommentDisplay.js","components/home/Comments.js","components/PostCard.js","utils/fetchData.js"],"names":["POST_TYPES","CREATE_POST","LOADING_POST","GET_POSTS","UPDATE_POST","GET_POST","DELETE_POST","REPORT_POST","SAVE_POST","createPost","content","images","auth","socket","dispatch","a","media","type","GLOBALTYPES","ALERT","payload","loading","length","imageUpload","postDataAPI","token","res","data","newPost","user","msg","id","_id","text","recipients","followers","url","image","createNotify","error","response","getPosts","getDataAPI","page","updatePost","status","imgNewUrl","filter","img","imgOldUrl","patchDataAPI","success","likePost","post","likes","emit","unLikePost","like","removeNotify","getPost","detailPost","every","deletePost","deleteDataAPI","reportPost","reportExist","reports","find","report","push","savePost","newUser","saved","AUTH","unSavePost","Post","useParams","useState","setPost","useSelector","state","useDispatch","useEffect","newArr","className","src","LoadIcon","alt","map","item","EditProfile","setOnEdit","fullname","mobile","address","website","story","gender","userData","setUserData","avatar","SetAvatar","theme","handleInput","e","target","name","value","onClick","onSubmit","preventDefault","updateProfileUser","URL","createObjectURL","style","accept","onChange","file","files","err","checkImage","htmlFor","top","right","transform","cols","rows","Following","users","setShowFollowing","UserCard","FollowBtn","Followers","setShowFollowers","ChangePassword","setChangePassword","oldPassword","setOldPassword","newPassword","setNewPassword","cnfNewPassword","setCnfNewPassword","changePassword","Info","profile","onEdit","showFollowers","showFollowing","newData","MODAL","borderRadius","height","width","Avatar","size","username","following","email","textDecoration","href","rel","Posts","posts","setPosts","result","setResult","setPage","load","setLoad","forEach","handleLoadMore","PROFILE_TYPES","PostThumb","LoadMoreBtn","Saved","savePosts","setSavePosts","then","catch","Profile","saveTab","setSaveTab","ids","getProfileUsers","MsgDisplay","index","maxWidth","maxHeight","match","videoShow","imageShow","Date","createdAt","toLocaleString","RightSide","message","setUser","setText","setData","setMedia","loadMedia","setLoadMedia","refDisplay","useRef","pageEnd","sender","handleSubmit","trim","recipient","toISOString","addMessage","current","scrollIntoView","behaviour","block","MESSAGE_TYPES","GET_MESSAGES","messages","getMessages","getMessagesData","IntersectionObserver","entries","isIntersecting","p","threshold","observe","resultData","ref","marginTop","opacity","display","splice","handleDeleteMedia","placeholder","background","color","Icons","setContent","multiple","newMedia","disabled","Conversation","borderRight","LeftSide","NOTIFY_TYPES","GET_NOTIFIES","CREATE_NOTIFY","REMOVE_NOTIFY","UPDATE_NOTIFY","UPDATE_SOUND","DELETE_ALL_NOTIFICATIONS","notify","getNotifies","notifies","isReadNotify","isRead","deleteAllNotifies","webpackContext","req","webpackContextResolve","__webpack_require__","o","Error","code","keys","Object","resolve","module","exports","ADMIN_TYPES","GET_TOTAL_USERS","GET_TOTAL_POSTS","GET_TOTAL_COMMENTS","GET_TOTAL_LIKES","GET_TOTAL_SPAM_POSTS","GET_TOTAL_ACTIVE_USERS","GET_SPAM_POSTS","LOADING_ADMIN","DELETE_USER","getTotalUsers","getTotalPosts","getTotalComments","getTotalLikes","getTotalSpamPosts","getSpamPosts","spamPosts","deleteSpamPost","getTotalActiveUsers","deleteUser","NotFound","minHeight","left","PageRender","pageName","React","createElement","require","default","generatePage","PrivateRouter","props","localStorage","getItem","to","Loading","zIndex","fill","x","y","Toast","handleShow","bgColor","minWidth","title","data-dismiss","border","fontSize","body","Alert","alert","NotifyModal","handleSound","sound","boxShadow","borderTopRightRadius","cursor","overflow","handleIsRead","slice","moment","fromNow","window","confirm","Menu","pathname","useLocation","isActive","pn","label","icon","path","link","role","data-bs-toggle","aria-expanded","aria-labelledby","THEME","logout","Header","scrollTo","getSuggestions","Search","StatusModal","setImages","stream","setStream","videoRef","refCanvas","tracks","setTracks","stop","STATUS","camera","deleteImages","autoPlay","muted","clientWidth","clientHeight","setAttribute","getContext","drawImage","toDataURL","navigator","mediaDevices","getUserMedia","video","mediaStream","srcObject","play","track","getTracks","console","log","newImages","SocketClient","audioRef","on","totalActiveUsers","off","Notification","onclick","open","ADD_MESSAGE","controls","audioTone","App","modal","userType","refreshToken","io","SOCKET","close","permission","requestPermission","exact","component","Home","Login","AdminDashboard","Register","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","authReducer","action","userTypeReducer","USER_TYPE","alertReducer","themeReducer","profileReducer","LOADING","GET_USER","FOLLOW","UNFOLLOW","EditData","GET_ID","statusReducer","postReducer","DeleteData","modalReducer","detailPostReducer","total_users","total_posts","total_comments","total_likes","total_active_users","total_spam_posts","spam_posts","firstLoad","discoverReducer","DISCOVER_TYPES","UPDATE_POSTS","suggestionsReducer","SUGGEST_TYPES","GET_USERS","socketReducer","resultUsers","messageReducer","ADD_USER","GET_CONVERSATIONS","reverse","combineReducers","homePosts","admin","discover","suggestions","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","DataProvider","children","ReactDOM","render","StrictMode","document","getElementById","handleClose","flexWrap","res1","follow","unfollow","addUser","getConversations","conversations","cv","valid","password","cf_password","replace","errMsg","errLength","login","access_token","setItem","adminLogin","register","check","registerAdmin","removeItem","location","imgArr","formData","FormData","append","fetch","method","json","public_id","secure_url","followed","setFollowed","handleFollow","handleUnFollow","getDiscoverPosts","search","setSearch","setUsers","handleSearch","toLowerCase","showSkinTones","showPreview","onSelect","emoji","native","i18n","clear","notfound","skintext","categories","recent","smileys","people","nature","foods","activity","places","objects","symbols","flags","custom","categorieslabel","skintones","1","2","3","4","5","6","comments","setUserType","typePass","setTypePass","history","useHistory","handleChangeInput","aria-describedby","defaultChecked","typeCfPass","setTypeCfPass","Message","Discover","Main","aria-hidden","marginLeft","textShadow","RegisterAdmin","AdminManagement","ContentList","handleDeletePost","Spam","Deleteuserbtn","handleDeleteUser","Userinfo","mystyle","UsersManagement","Sidebar","adminMenu","setAdminMenu","Status","RightSideBar","searchUsers","setSearchUsers","handleAddUser","cclassName","Carousel","data-bs-ride","data-bs-target","data-bs-slide-to","aria-current","data-bs-slide","CardBody","readMore","setReadMore","LikeButton","isLike","handleLike","handleUnLike","ShareModal","setIsShare","FacebookShareButton","FacebookIcon","round","TwitterShareButton","TwitterIcon","EmailShareButton","EmailIcon","TelegramShareButton","TelegramIcon","WhatsappShareButton","WhatsappIcon","PinterestShareButton","PinterestIcon","RedditShareButton","RedditIcon","LinkedinShareButton","LineIcon","CardFooter","setIsLike","setSaved","loadLike","setLoadLike","saveLoad","setSaveLoad","isShare","handleSavePost","handleUnSavePost","padding","CardHeader","clipboard","writeText","likeComment","comment","newComment","newComments","unLikeComment","CommentMenu","handleRemove","deleteArr","cm","reply","da","tag","deleteComment","MenuItem","InputComment","onReply","setOnReply","commentId","postId","postUserId","createComment","CommentCard","styleCard","pointerEvents","marginRight","fontWeight","updateComment","CommentDisplay","replyCm","showRep","setShowRep","next","setNext","Comments","setComments","showComments","setShowComments","replyComments","setReplyComments","newCm","newReply","PostCard","axios","get","headers","Authorization","patch","delete"],"mappings":"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","file":"static/js/main.3a7ed2b3.chunk.js","sourcesContent":["import { GLOBALTYPES } from \"./globalTypes\";\r\nimport { postDataAPI, getDataAPI, patchDataAPI, deleteDataAPI } from \"../../utils/fetchData\";\r\nimport { imageUpload } from \"../../utils/imageUpload\";\r\nimport { createNotify, removeNotify } from \"./notifyAction\";\r\n\r\n\r\nexport const POST_TYPES = {\r\n  CREATE_POST: \"CREATE_POST\",\r\n  LOADING_POST: \"LOADING_POST\",\r\n  GET_POSTS: \"GET_POSTS\",\r\n  UPDATE_POST: \"UPDATE_POST\",\r\n  GET_POST: \"GET_POST\",\r\n  DELETE_POST: \"DELETE_POST\",\r\n  REPORT_POST: \"REPORT_POST\",\r\n  SAVE_POST: \"SAVE_POST\",\r\n};\r\n\r\nexport const createPost = ({content, images, auth, socket}) => async dispatch => {\r\n    let media = [];\r\n\r\n    try {\r\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {loading: true} });\r\n\r\n        if(images.length > 0){ media = await imageUpload(images)}\r\n\r\n        const res = await postDataAPI('posts', {content, images: media}, auth.token );\r\n\r\n        \r\n        dispatch({ type: POST_TYPES.CREATE_POST , payload: {...res.data.newPost, user: auth.user} });\r\n        \r\n        dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: false } });\r\n        \r\n\r\n        // todo notification\r\n        const msg = {\r\n          id: res.data.newPost._id,\r\n          text: \"Added a new post.\",\r\n          recipients: res.data.newPost.user.followers,\r\n          url: `/post/${res.data.newPost._id}`,\r\n          content, \r\n          image: media[0].url\r\n        };\r\n\r\n        dispatch(createNotify({msg, auth, socket}));\r\n\r\n    } catch (err) {\r\n        dispatch({\r\n            type: GLOBALTYPES.ALERT,\r\n            payload: {\r\n                error: err.response.data.msg\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport const getPosts = (token) => async dispatch => {\r\n    try {\r\n        dispatch({ type: POST_TYPES.LOADING_POST, payload: true  });\r\n        const res = await getDataAPI('posts', token);\r\n        dispatch({ type: POST_TYPES.GET_POSTS, payload: {...res.data, page: 2} });\r\n\r\n        dispatch({ type: POST_TYPES.LOADING_POST, payload: false });\r\n    } catch (err) {\r\n        dispatch({\r\n          type: GLOBALTYPES.ALERT,\r\n          payload: {\r\n            error: err.response.data.msg,\r\n          },\r\n        });\r\n    }\r\n}\r\n\r\n\r\nexport const updatePost = ({ content, images, auth, status }) => async (dispatch) => {\r\n  let media = [];\r\n    const imgNewUrl = images.filter(img => !img.url);\r\n    const imgOldUrl = images.filter(img => img.url);\r\n    if(status.content === content && imgNewUrl.length === 0 && imgOldUrl.length === status.images.length){\r\n        return;\r\n    }\r\n  try {\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\r\n    if (imgNewUrl.length > 0) {\r\n      media = await imageUpload(imgNewUrl);\r\n    }\r\n    const res = await patchDataAPI(\r\n      `post/${status._id}`,\r\n      { content, images: [...imgOldUrl, ...media] },\r\n      auth.token\r\n    );\r\n    \r\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: res.data.newPost });\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { success: res.data.msg } });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        error: err.response.data.msg,\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\n\r\nexport const likePost = ({ post, auth, socket }) => async (dispatch) => {\r\n  const newPost = {...post, likes: [...post.likes, auth.user]};\r\n\r\n  dispatch({type: POST_TYPES.UPDATE_POST, payload: newPost});\r\n  socket.emit(\"likePost\", newPost);\r\n  \r\n  try {\r\n    await patchDataAPI(`post/${post._id}/like`, null, auth.token);\r\n\r\n    // todo notification\r\n    const msg = {\r\n      id: auth.user._id,\r\n      text: \"Liked your post.\",\r\n      recipients: [post.user._id],\r\n      url: `/post/${post._id}`,\r\n      content: post.content,\r\n      image: post.images[0].url,\r\n    };\r\n\r\n    dispatch(createNotify({ msg, auth, socket }));\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        error: err.response.data.msg,\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\n\r\nexport const unLikePost = ({ post, auth, socket }) => async (dispatch) => {\r\n  const newPost = { ...post, likes: post.likes.filter(like => like._id !== auth.user._id) };\r\n\r\n  dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n  socket.emit(\"unLikePost\", newPost);\r\n\r\n  \r\n  try {\r\n    await patchDataAPI(`post/${post._id}/unlike`, null, auth.token);\r\n\r\n    // todo notification\r\n    const msg = {\r\n      id: auth.user._id,\r\n      text: \"Liked your post.\",\r\n      recipients: [post.user._id],\r\n      url: `/post/${post._id}`, \r\n    };\r\n\r\n    dispatch(removeNotify({ msg, auth, socket }));\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        error: err.response.data.msg,\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\n\r\nexport const getPost = ({ detailPost, id, auth }) => async (dispatch) => {\r\n  if(detailPost.every(post => post._id !== id )){\r\n    try {\r\n      const res = await getDataAPI(`post/${id}`, auth.token);\r\n      dispatch({ type: POST_TYPES.GET_POST, payload: res.data.post})\r\n\r\n\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: {\r\n          error: err.response.data.msg,\r\n        },\r\n      });\r\n    }\r\n  }\r\n};\r\n\r\n\r\nexport const deletePost = ({ post, auth, socket }) => async (dispatch) => {\r\n  dispatch({ type: POST_TYPES.DELETE_POST, payload: post });\r\n\r\n  try {\r\n    const res = await deleteDataAPI(`post/${post._id}`, auth.token);\r\n\r\n    // todo notification\r\n    const msg = {\r\n      id: post._id,\r\n      text: \"Added a new post.\",\r\n      recipients: res.data.newPost.user.followers,\r\n      url: `/post/${post._id}`,\r\n    };\r\n\r\n    dispatch(removeNotify({ msg, auth, socket }));\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        error: err.response.data.msg,\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\n\r\nexport const reportPost = ({ post, auth }) => async (dispatch) => {\r\n\r\n  const reportExist = post.reports.find(report => report === auth.user._id);\r\n\r\n  if (reportExist && reportExist.length > 0) {\r\n    return dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: \"You have already reported this post.\" },\r\n    });\r\n  }\r\n    const newPost = { ...post };\r\n    newPost.reports.push(auth.user._id);\r\n\r\n  dispatch({ type: POST_TYPES.REPORT_POST, payload: newPost });\r\n  \r\n\r\ntry {\r\n  const res = await patchDataAPI(`post/${post._id}/report`, null, auth.token);\r\n  dispatch({ type: GLOBALTYPES.ALERT, payload: { success: res.data.msg } });\r\n} catch (err) {\r\n  dispatch({\r\n    type: GLOBALTYPES.ALERT,\r\n    payload: {\r\n      error: err.response.data.msg,\r\n    },\r\n  });\r\n}\r\n};\r\n\r\nexport const savePost = ({ post, auth }) => async (dispatch) => {\r\n  const newUser = {...auth.user, saved: [...auth.user.saved, post._id] };\r\n\r\n  dispatch({ type: GLOBALTYPES.AUTH, payload: {...auth, user: newUser}});\r\n\r\n\r\n  try {\r\n    await patchDataAPI(`savePost/${post._id}`, null, auth.token);\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        error: err.response.data.msg,\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\nexport const unSavePost = ({ post, auth }) => async (dispatch) => {\r\n  const newUser = { ...auth.user, saved: auth.user.saved.filter(id => id !== post._id) };\r\n\r\n  dispatch({ type: GLOBALTYPES.AUTH, payload: { ...auth, user: newUser } });\r\n\r\n  try {\r\n    await patchDataAPI(`unSavePost/${post._id}`, null, auth.token);\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        error: err.response.data.msg,\r\n      },\r\n    });\r\n  }\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getPost } from '../../redux/actions/postAction';\r\nimport LoadIcon from '../../images/loading.gif';\r\nimport PostCard from \"../../components/PostCard\";\r\n\r\nconst Post = () => {\r\n    const { id } = useParams();\r\n    const [post, setPost] = useState([]);\r\n    const { auth, detailPost } = useSelector((state) => state);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n      dispatch(getPost({ detailPost, id, auth }));\r\n      if (detailPost.length > 0) {\r\n        const newArr = detailPost.filter((post) => post._id === id);\r\n        setPost(newArr);\r\n      }\r\n    }, [detailPost, dispatch, id, auth]);\r\n\r\n    return (\r\n        <div className=\"posts\">\r\n            {\r\n                post.length === 0 &&\r\n                <img src={LoadIcon} alt=\"Loading...\" className=\"d-block mx-auto my-4\" />\r\n            }\r\n\r\n            {\r\n                post.map(item => (\r\n                    <PostCard post={item} key={item._id} />\r\n                ))\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { GLOBALTYPES } from \"../../redux/actions/globalTypes\";\r\nimport { updateProfileUser } from \"../../redux/actions/profileAction\";\r\n\r\nimport { checkImage } from \"../../utils/imageUpload\";\r\n\r\nconst EditProfile = ({ setOnEdit }) => {\r\n  const initialState = {\r\n    fullname: \"\",\r\n    mobile: \"\",\r\n    address: \"\",\r\n    website: \"\",\r\n    story: \"\",\r\n    gender: \"\",\r\n  };\r\n  const [userData, setUserData] = useState(initialState);\r\n  const { fullname, mobile, address, website, story, gender } = userData;\r\n  const [avatar, SetAvatar] = useState(\"\");\r\n  const { auth, theme } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    setUserData(auth.user);\r\n  }, [auth.user]);\r\n\r\n  const changeAvatar = (e) => {\r\n    const file = e.target.files[0];\r\n    const err = checkImage(file);\r\n    if (err) {\r\n      return dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err } });\r\n    }\r\n    SetAvatar(file);\r\n  };\r\n\r\n  const handleInput = (e) => {\r\n    const { name, value } = e.target;\r\n    setUserData({ ...userData, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n      e.preventDefault();\r\n      dispatch(updateProfileUser( {userData, avatar, auth} ) );\r\n  };\r\n\r\n  return (\r\n    <div className=\"edit_profile\">\r\n      <button\r\n        className=\"btn btn-danger btn_close\"\r\n        onClick={() => setOnEdit(false)}\r\n      >\r\n        Close\r\n      </button>\r\n\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"info_avatar\">\r\n          <img\r\n            alt=\"profile\"\r\n            src={avatar ? URL.createObjectURL(avatar) : auth.user.avatar}\r\n            style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\r\n          />\r\n          <span>\r\n            <i className=\"fas fa-camera\" />\r\n            <p>Change</p>\r\n            <input\r\n              type=\"file\"\r\n              name=\"file\"\r\n              id=\"file_up\"\r\n              accept=\"image/*\"\r\n              onChange={changeAvatar}\r\n            />\r\n          </span>\r\n        </div>\r\n\r\n        <div className=\"form_group\">\r\n          <label htmlFor=\"fullname\">Full Name</label>\r\n          <div className=\"position-relative\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"fullname\"\r\n              name=\"fullname\"\r\n              value={fullname}\r\n              onChange={handleInput}\r\n            />\r\n            <small\r\n              className=\"text-danger position-absolute\"\r\n              style={{\r\n                top: \"50%\",\r\n                right: \"5px\",\r\n                transform: \"translateY(-50%)\",\r\n              }}\r\n            >\r\n              {fullname.length}/25\r\n            </small>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"form_group\">\r\n          <label htmlFor=\"mobile\">Mobile</label>\r\n\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            id=\"mobile\"\r\n            name=\"mobile\"\r\n            value={mobile}\r\n            onChange={handleInput}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form_group\">\r\n          <label htmlFor=\"address\">Address</label>\r\n\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            id=\"address\"\r\n            name=\"address\"\r\n            value={address}\r\n            onChange={handleInput}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form_group\">\r\n          <label htmlFor=\"website\">Website</label>\r\n\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            id=\"website\"\r\n            name=\"website\"\r\n            value={website}\r\n            onChange={handleInput}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"form_group\">\r\n          <label htmlFor=\"story\">Story</label>\r\n\r\n          <textarea\r\n            cols=\"30\"\r\n            rows=\"4\"\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            id=\"story\"\r\n            name=\"story\"\r\n            value={story}\r\n            onChange={handleInput}\r\n          />\r\n\r\n          <small className=\"text-danger d-block text-right\">\r\n            {story.length}/200\r\n          </small>\r\n        </div>\r\n\r\n        <label htmlFor=\"gender\">Gender</label>\r\n        <div className=\"input-group-prepend px-0 mb-4\">\r\n          <select\r\n            className=\"custom-select text-capitalize\"\r\n            name=\"gender\"\r\n            id=\"gender\"\r\n            onChange={handleInput}\r\n            value={gender}\r\n          >\r\n            <option value=\"male\">Male</option>\r\n            <option value=\"female\">Female</option>\r\n          </select>\r\n        </div>\r\n        <button className=\"btn btn-info w-100\" type=\"submit\">\r\n          Save\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditProfile;\r\n","import React from \"react\";\r\nimport UserCard from \"../UserCard\";\r\nimport FollowBtn from \"../FollowBtn\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst Following = ({ users, setShowFollowing }) => {\r\n  const { auth } = useSelector((state) => state);\r\n  return (\r\n    <div className=\"follow\">\r\n      <div className=\"follow_box\">\r\n        <h5 className=\"text-center follow_box-heading\">Following</h5>\r\n        <hr />\r\n        {users.map((user) => (\r\n          <UserCard\r\n            key={user._id}\r\n            setShowFollowing={setShowFollowing}\r\n            user={user}\r\n          >\r\n            {auth.user._id !== user._id && <FollowBtn user={user} />}\r\n          </UserCard>\r\n        ))}\r\n\r\n        <div className=\"close\" onClick={() => setShowFollowing(false)}>\r\n          &times;\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Following;\r\n","import React from \"react\";\r\nimport UserCard from \"../UserCard\";\r\nimport FollowBtn from \"../FollowBtn\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst Followers = ({ users, setShowFollowers }) => {\r\n  const { auth } = useSelector((state) => state);\r\n  return (\r\n    <div className=\"follow\">\r\n      <div className=\"follow_box\">\r\n        <h5 className=\"text-center follow_box-heading\">Followers</h5>\r\n        <hr />\r\n        {users.map((user) => (\r\n          <UserCard\r\n            key={user._id}\r\n            setShowFollowers={setShowFollowers}\r\n            user={user}\r\n          >\r\n            {auth.user._id !== user._id && <FollowBtn user={user} />}\r\n          </UserCard>\r\n        ))}\r\n\r\n        <div className=\"close\" onClick={() => setShowFollowers(false)}>\r\n          &times;\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Followers;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { GLOBALTYPES } from \"../../redux/actions/globalTypes\";\r\nimport { changePassword } from \"../../redux/actions/authAction\";\r\n\r\nimport { checkImage } from \"../../utils/imageUpload\";\r\n\r\nconst ChangePassword = ({ setChangePassword }) => {\r\n  const [oldPassword, setOldPassword] = useState(\"\");\r\n  const [newPassword, setNewPassword] = useState(\"\");\r\n  const [cnfNewPassword, setCnfNewPassword] = useState(\"\");\r\n  const { auth, theme } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n\r\n\r\n\r\n  const handleSubmit = e => {\r\n      e.preventDefault();\r\n      dispatch(changePassword( {oldPassword, newPassword, cnfNewPassword, auth} ) );\r\n  };\r\n\r\n  return (\r\n    <div className=\"edit_profile\">\r\n      <button\r\n        className=\"btn btn-danger btn_close\"\r\n        onClick={() => setChangePassword(false)}\r\n      >\r\n        Close\r\n      </button>\r\n\r\n      <form onSubmit={handleSubmit}>\r\n        \r\n        \r\n        <div className=\"form_group\">\r\n          <label htmlFor=\"oldPassword\">old password</label>\r\n\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            id=\"oldPassword\"\r\n            name=\"oldPassword\"\r\n            value={oldPassword}\r\n            onChange={(e) => setOldPassword(e.target.value)}\r\n          />\r\n        </div>\r\n\r\n\r\n        <div className=\"form_group\">\r\n          <label htmlFor=\"newPassword\">new password</label>\r\n\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            id=\"newPassword\"\r\n            name=\"newPassword\"\r\n            value={newPassword}\r\n            onChange={(e) => setNewPassword(e.target.value)}\r\n          />\r\n        </div>\r\n\r\n\r\n        <div className=\"form_group\">\r\n          <label htmlFor=\"cnfNewPassword\">confirm new password</label>\r\n\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            id=\"cnfNewPassword\"\r\n            name=\"cnfNewPassword\"\r\n            value={cnfNewPassword}\r\n            onChange={(e) => setCnfNewPassword(e.target.value)}\r\n          />\r\n        </div>\r\n\r\n        \r\n        <button className=\"btn btn-info w-100\" type=\"submit\">\r\n          update\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChangePassword;\r\n","import React, { useState, useEffect} from 'react';\r\nimport Avatar from '../Avatar';\r\nimport EditProfile from './EditProfile';\r\nimport FollowBtn from '../FollowBtn';\r\nimport Following from './Following';\r\nimport Followers from './Followers';\r\nimport ChangePassword from './ChangePassword';\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes';\r\n\r\nconst Info = ({id, auth, profile, dispatch}) => {\r\n    const [userData, setUserData] = useState([]);\r\n    const [onEdit, setOnEdit] = useState(false);\r\n    const [changePassword, setChangePassword] = useState(false);\r\n\r\n    const [showFollowers, setShowFollowers] = useState(false);\r\n    const [showFollowing, setShowFollowing] = useState(false);\r\n\r\n    useEffect(() => {\r\n      if (id === auth.user._id) {\r\n          setUserData([auth.user]);\r\n      }else{\r\n        const newData = profile.users.filter(user => user._id === id);\r\n        setUserData(newData);\r\n      }\r\n    }, [id, auth, dispatch, profile.users]);\r\n\r\n    useEffect(() => {\r\n      if (showFollowers || showFollowing || onEdit) {\r\n        dispatch({ type: GLOBALTYPES.MODAL, payload: true });\r\n      } else {\r\n        dispatch({ type: GLOBALTYPES.MODAL, payload: false });\r\n      }\r\n    }, [showFollowers, showFollowing, onEdit, dispatch]);\r\n\r\n    return (\r\n      <div className=\"info\">\r\n        {userData.map((user) => (\r\n          <div key={user._id} className=\"info_container\">\r\n            <div\r\n              className=\"outer-shadow d-flex justify-content-center align-items-center\"\r\n              style={{ borderRadius: \"50%\", height: \"170px\", width: \"170px\" }}\r\n            >\r\n              <Avatar src={user.avatar} size=\"supper-avatar\" />\r\n            </div>\r\n\r\n            <div className=\"info_content\">\r\n              <div className=\"info_content_title\">\r\n                <h2>{user.username}</h2>\r\n                {user._id === auth.user._id ? (\r\n                  <button\r\n                    className=\"btn-1 outer-shadow hover-in-shadow\"\r\n                    onClick={() => setOnEdit(true)}\r\n                  >\r\n                    Edit Profile\r\n                  </button>\r\n                ) : (\r\n                  <FollowBtn user={user} />\r\n                )}\r\n                {user._id === auth.user._id ? (\r\n                  <button\r\n                    className=\"btn-1 outer-shadow hover-in-shadow\"\r\n                    onClick={() => setChangePassword(true)}\r\n                  >\r\n                    change password\r\n                  </button>\r\n                ) : (\r\n                  <FollowBtn user={user} />\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"follow_btn\">\r\n                <span className=\"mr-4\" onClick={() => setShowFollowers(true)}>\r\n                  {user.followers.length} Followers\r\n                </span>\r\n                <span className=\"ml-4\" onClick={() => setShowFollowing(true)}>\r\n                  {user.following.length} Following\r\n                </span>\r\n              </div>\r\n\r\n              <h6>\r\n                {user.fullname}{\" \"}\r\n                <span className=\"color-violet\">{user.mobile}</span>\r\n              </h6>\r\n              <p className=\"m-0\">{user.address}</p>\r\n              <h6>{user.email}</h6>\r\n              <a\r\n                style={{ textDecoration: \"none\" }}\r\n                href={user.website}\r\n                target=\"_blank\"\r\n                rel=\"noreferrer\"\r\n              >\r\n                {user.website}\r\n              </a>\r\n              <p>{user.story}</p>\r\n            </div>\r\n\r\n            {onEdit && <EditProfile setOnEdit={setOnEdit} />}\r\n            {changePassword && <ChangePassword setChangePassword={setChangePassword} />}\r\n\r\n            {showFollowers && (\r\n              <Followers\r\n                users={user.followers}\r\n                setShowFollowers={setShowFollowers}\r\n              />\r\n            )}\r\n            {showFollowing && (\r\n              <Following\r\n                users={user.following}\r\n                setShowFollowing={setShowFollowing}\r\n              />\r\n            )}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Info\r\n","import React, { useState, useEffect } from \"react\";\r\nimport PostThumb from \"../PostThumb\";\r\nimport LoadIcon from \"../../images/loading.gif\";\r\nimport LoadMoreBtn from \"../LoadMoreBtn\";\r\nimport { getDataAPI } from \"../../utils/fetchData\";\r\nimport { PROFILE_TYPES } from \"../../redux/actions/profileAction\";\r\n\r\nconst Posts = ({ auth, profile, dispatch, id }) => {\r\n  const [posts, setPosts] = useState([]);\r\n  const [result, setResult] = useState(9);\r\n  const [page, setPage] = useState(0);\r\n  const [load, setLoad] = useState(false);\r\n\r\n  useEffect(() => {\r\n    profile.posts.forEach((data) => {\r\n      if (data._id === id) {\r\n        setPosts(data.posts);\r\n        setResult(data.result);\r\n        setPage(data.page);\r\n      }\r\n    });\r\n  }, [profile.posts, id]);\r\n\r\n  const handleLoadMore = async () => {\r\n    setLoad(true);\r\n    const res = await getDataAPI(\r\n      `user_posts/${id}?limit=${page * 9}`,\r\n      auth.token\r\n    );\r\n    const newData = { ...res.data, page: page + 1, _id: id };\r\n    dispatch({ type: PROFILE_TYPES.UPDATE_POST, payload: newData });\r\n    setLoad(false);\r\n  };\r\n  return (\r\n    <div>\r\n      <PostThumb posts={posts} result={result} />\r\n\r\n      {load && (\r\n        <img src={LoadIcon} alt=\"Loading...\" className=\"d-block mx-auto\" />\r\n      )}\r\n\r\n      <LoadMoreBtn\r\n        result={result}\r\n        page={page}\r\n        load={load}\r\n        handleLoadMore={handleLoadMore}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Posts;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport PostThumb from \"../PostThumb\";\r\nimport LoadIcon from \"../../images/loading.gif\";\r\nimport LoadMoreBtn from \"../LoadMoreBtn\";\r\nimport { getDataAPI } from \"../../utils/fetchData\";\r\nimport { GLOBALTYPES } from \"../../redux/actions/globalTypes\";\r\n\r\nconst Saved = ({ auth, dispatch }) => {\r\n  const [savePosts, setSavePosts] = useState([]);\r\n  const [result, setResult] = useState(9);\r\n  const [page, setPage] = useState(2);\r\n  const [load, setLoad] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setLoad(true);\r\n    getDataAPI(`getSavePosts`, auth.token)\r\n    .then(res => { \r\n        setSavePosts(res.data.savePosts) \r\n        setResult(res.data.result)\r\n        setLoad(false)\r\n    })  \r\n    .catch(err => {\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\r\n    })\r\n\r\n    return () => setSavePosts([]);\r\n  }, [dispatch, auth.token]);\r\n\r\n  const handleLoadMore = async () => {\r\n    setLoad(true);\r\n    const res = await getDataAPI(`getSavePosts?limit=${page * 9}`, auth.token);\r\n    setSavePosts(res.data.savePosts);\r\n    setResult(res.data.result);\r\n    setPage(page + 1);\r\n    setLoad(false);\r\n  };\r\n\r\n\r\n  return (\r\n    <div>\r\n      <PostThumb posts={savePosts} result={result} />\r\n\r\n      {load && (\r\n        <img src={LoadIcon} alt=\"Loading...\" className=\"d-block mx-auto\" />\r\n      )}\r\n\r\n      <LoadMoreBtn\r\n        result={result}\r\n        page={page}\r\n        load={load}\r\n        handleLoadMore={handleLoadMore}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Saved;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport Info from '../../components/profile/Info';\r\nimport Posts from '../../components/profile/Posts';\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport LoadIcon  from \"../../images/loading.gif\";\r\nimport { getProfileUsers } from \"../../redux/actions/profileAction\";\r\nimport Saved from '../../components/profile/Saved';\r\n\r\nconst Profile = () => {\r\n  const { profile, auth } = useSelector(state => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const { id } = useParams();\r\n  const [saveTab, setSaveTab] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if(profile.ids.every(item => item !== id )){\r\n      dispatch(getProfileUsers({ id, auth }));\r\n\r\n    }\r\n  }, [id, auth, dispatch, profile.ids]);\r\n\r\n    return (\r\n      <div className=\"profile\">\r\n        <Info auth={auth} profile={profile} dispatch={dispatch} id={id} />\r\n\r\n        {auth.user._id === id && (\r\n          <div className=\"profile_tab\">\r\n            <button\r\n              className={saveTab ? \"\" : \"active\"}\r\n              onClick={() => setSaveTab(false)}\r\n            >\r\n              posts\r\n            </button>\r\n            <button\r\n              className={saveTab ? \"active\" : \"\"}\r\n              onClick={() => setSaveTab(true)}\r\n            >\r\n              saved\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {profile.loading ? (\r\n          <img className=\"d-block mx-auto my-4\" src={LoadIcon} alt=\"Loading\" />\r\n        ) : (\r\n          <>\r\n            {\r\n              saveTab\r\n              ? <Saved auth={auth} dispatch={dispatch}  />\r\n              : <Posts auth={auth} profile={profile} dispatch={dispatch} id={id} />\r\n            }\r\n          </>\r\n        )}\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Profile;\r\n","import React from 'react';\r\nimport Avatar from '../Avatar';\r\nimport { imageShow, videoShow } from '../../utils/mediaShow'; \r\n\r\nconst MsgDisplay = ({user, msg, theme}) => {\r\n    return (\r\n      <>\r\n        <div className=\"chat_title\">\r\n          <Avatar src={user.avatar} size=\"small-avatar\" />\r\n          <span>{user.username}</span>\r\n        </div>\r\n        {msg.text && (\r\n          <div\r\n            className=\"chat_text\"\r\n            style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\r\n          >\r\n            {msg.text}\r\n          </div>\r\n        )}\r\n\r\n        {msg.media &&\r\n          msg.media.map((item, index) => (\r\n            <div key={index} style={{maxWidth: '380px', maxHeight: '380px'}}>\r\n              {item.url.match(/video/i)\r\n                ? videoShow(item.url, theme)\r\n                : imageShow(item.url, theme)}\r\n            </div>\r\n          ))}\r\n\r\n        <div className=\"chat_time\">\r\n          {new Date(msg.createdAt).toLocaleString()}\r\n        </div>\r\n      </>\r\n    );\r\n}\r\n\r\nexport default MsgDisplay\r\n","import React, { useEffect, useState, useRef } from 'react';\r\nimport UserCard from \"../UserCard\";\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useParams } from 'react-router-dom';\r\nimport MsgDisplay from './MsgDisplay';\r\nimport Icons from \"../Icons\";\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes';\r\nimport { imageShow, videoShow } from '../../utils/mediaShow';\r\nimport { imageUpload } from '../../utils/imageUpload';\r\nimport { addMessage, getMessages, MESSAGE_TYPES } from '../../redux/actions/messageAction';\r\nimport LoadIcon from '../../images/loading.gif';\r\n\r\nconst RightSide = () => {\r\n    const { auth, message, theme, socket } = useSelector(state => state);\r\n    const dispatch = useDispatch();\r\n    const [user, setUser] = useState([]);\r\n    const [text, setText] = useState('');\r\n    const [page, setPage] = useState(0);\r\n    const [data, setData] = useState([]);\r\n    const { id } = useParams();\r\n    const [media, setMedia] = useState([]);\r\n    const [loadMedia, setLoadMedia] = useState(false);\r\n\r\n    const refDisplay = useRef();\r\n    const pageEnd = useRef();\r\n\r\n    useEffect(() => {\r\n      const newData = message.data.filter(\r\n        (item) => item.sender === auth.user._id || item.sender === id\r\n      );\r\n      setData(newData);\r\n    }, [message.data, auth.user._id, id]);\r\n\r\n    useEffect(() => {\r\n      const newUser = message.users.find((user) => user._id === id);\r\n      if (newUser) {\r\n        setUser(newUser);\r\n      }\r\n    }, [message.users, id]);\r\n\r\n    const handleChangeMedia = (e) => {\r\n      const files = [...e.target.files];\r\n    let err = \"\";\r\n    let newMedia = [];\r\n\r\n    files.forEach((file) => {\r\n      if (!file) {\r\n        return (err = \"File does not exist.\");\r\n      }\r\n      if (file.size > 1024 * 1024 * 5) {\r\n        return (err = \"Image size must be less than 5 mb.\");\r\n      }\r\n      return newMedia.push(file);\r\n    });\r\n    if (err) {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err } });\r\n    }\r\n    setMedia([...media, ...newMedia]);\r\n    };\r\n\r\n    const handleDeleteMedia = (index) => {\r\n      const newArr = [...media];\r\n      newArr.splice(index, 1);\r\n      setMedia(newArr);\r\n    };\r\n\r\n    const handleSubmit = async e => {\r\n      e.preventDefault();\r\n      if(!text.trim() && media.length === 0) return;\r\n      setText('');\r\n      setMedia([]);\r\n\r\n      setLoadMedia(true);\r\n\r\n      let newArr = [];\r\n      if(media.length > 0) newArr = await imageUpload(media);\r\n\r\n      const msg = {\r\n        sender: auth.user._id,\r\n        recipient: id,\r\n        text,\r\n        media: newArr,\r\n        createdAt: new Date().toISOString()\r\n      }\r\n      setLoadMedia(false);\r\n      await dispatch(addMessage({msg, auth, socket}));\r\n      if (refDisplay.current) {\r\n        refDisplay.current.scrollIntoView({\r\n          behaviour: \"smooth\",\r\n          block: \"end\",\r\n        });\r\n      }\r\n    };\r\n\r\n    useEffect(() => {\r\n      if (id) {\r\n        const getMessagesData = async () => {\r\n\r\n          dispatch({type: MESSAGE_TYPES.GET_MESSAGES, payload: { messages: [] } });\r\n          \r\n          setPage(1);\r\n          await dispatch(getMessages({ auth, id }));\r\n          if(refDisplay.current){\r\n            refDisplay.current.scrollIntoView({behaviour: 'smooth', block: 'end'});\r\n          }\r\n        };\r\n\r\n        getMessagesData();\r\n      }\r\n    }, [id, dispatch, auth]);\r\n\r\n    // load more\r\n\r\n    useEffect(() => {\r\n      const observer = new IntersectionObserver(\r\n        (entries) => {\r\n          if (entries[0].isIntersecting) {\r\n            setPage((p) => p + 1);\r\n          }\r\n        },\r\n        {\r\n          threshold: 0.1,\r\n        }\r\n      );\r\n      observer.observe(pageEnd.current);\r\n    }, [setPage]);\r\n\r\n    useEffect(() => {\r\n      if (message.resultData >= (page - 1) * 9 && page > 1) {\r\n        dispatch(getMessages({ auth, id, page }));\r\n      }\r\n    }, [message.resultData, page, id, auth, dispatch]);\r\n\r\n    useEffect(() => {\r\n      if (refDisplay.current) {\r\n        refDisplay.current.scrollIntoView({\r\n          behaviour: \"smooth\",\r\n          block: \"end\",\r\n        });\r\n      }\r\n    }, [text])\r\n\r\n    return (\r\n      <>\r\n        <div className=\"message_header\">\r\n          {user.length !== 0 && (\r\n            <UserCard user={user}>\r\n              <i className=\"fas fa-trash text-danger\" />\r\n            </UserCard>\r\n          )}\r\n        </div>\r\n\r\n        <div\r\n          className=\"chat_container\"\r\n          style={{ height: media.length > 0 ? \"calc(100% - 180px)\" : \"\" }}\r\n        >\r\n          <div className=\"chat_display\" ref={refDisplay}>\r\n            <button style={{marginTop: '-25px', opacity: 0}} ref={pageEnd}>Load..</button>\r\n\r\n            {data.map((msg, index) => (\r\n              <div key={index}>\r\n                {msg.sender !== auth.user._id && (\r\n                  <div className=\"chat_row other_message\">\r\n                    <MsgDisplay user={user} msg={msg} theme={theme} />\r\n                  </div>\r\n                )}\r\n                {msg.sender === auth.user._id && (\r\n                  <div className=\"chat_row you_message\">\r\n                    <MsgDisplay user={auth.user} msg={msg} theme={theme} />\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ))}\r\n            {loadMedia && (\r\n              <div className=\"chat_row you_message\">\r\n                <img src={LoadIcon} alt=\"Loading...\" />\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          className=\"show_media\"\r\n          style={{ display: media.length > 0 ? \"\" : \"none\" }}\r\n        >\r\n          {media.map((item, index) => (\r\n            <div key={index} id=\"file_media\">\r\n              {item.type.match(/video/i)\r\n                ? videoShow(URL.createObjectURL(item), theme)\r\n                : imageShow(URL.createObjectURL(item), theme)}\r\n              <span onClick={() => handleDeleteMedia(index)}>&times;</span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        <form className=\"chat_input\" onSubmit={handleSubmit}>\r\n          <input\r\n            placeholder=\"Type a message.\"\r\n            type=\"text\"\r\n            value={text}\r\n            onChange={(e) => setText(e.target.value)}\r\n            style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" , background: theme ? '#040404' : '', color: theme ? 'white' : ''}}\r\n          />\r\n          <Icons setContent={setText} content={text} theme={theme} />\r\n          <div className=\"file_upload\">\r\n            <i className=\"fas fa-image color-c1\" />\r\n            <input\r\n              type=\"file\"\r\n              name=\"file\"\r\n              id=\"file\"\r\n              multiple\r\n              accept=\"image/*,video/*\"\r\n              onChange={handleChangeMedia}\r\n            />\r\n          </div>\r\n          <button\r\n            type=\"submit\"\r\n            disabled={text || media.length > 0 ? false : true}\r\n            className=\"material-icons\"\r\n          >\r\n            near_me\r\n          </button>\r\n        </form>\r\n      </>\r\n    );\r\n}\r\n\r\nexport default RightSide\r\n","import React from \"react\";\r\nimport LeftSide from \"../../components/message/LeftSide\";\r\nimport RightSide from \"../../components/message/RightSide\";\r\n\r\nconst Conversation = () => {\r\n  return (\r\n    <div className=\"message d-flex\">\r\n      <div className=\"col-md-4 px-0\" style={{ borderRight: \"1px solid #ddd\" }}>\r\n        <LeftSide />\r\n      </div>\r\n\r\n      <div className=\"col-md-8 px-0\">\r\n        <RightSide /> \r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Conversation;\r\n","import { GLOBALTYPES } from './globalTypes';\r\nimport { postDataAPI, deleteDataAPI, getDataAPI, patchDataAPI } from '../../utils/fetchData';\r\n\r\nexport const NOTIFY_TYPES = {\r\n  GET_NOTIFIES: \"GET_NOTIFIES\",\r\n  CREATE_NOTIFY: \"CREATE_NOTIFY\",\r\n  REMOVE_NOTIFY: \"REMOVE_NOTIFY\",\r\n  UPDATE_NOTIFY: \"UPDATE_NOTIFY\",\r\n  UPDATE_SOUND: \"UPDATE_SOUND\",\r\n  DELETE_ALL_NOTIFICATIONS: \"DELETE_ALL_NOTIFICATIONS\",\r\n};\r\n\r\nexport const createNotify = ({msg, auth, socket }) => async (dispatch) => {\r\n\r\n    try {\r\n        const res = await postDataAPI(`notify`, msg, auth.token);\r\n        socket.emit('createNotify', {\r\n          ...res.data.notify,\r\n          user: {\r\n            username: auth.user.username,\r\n            avatar: auth.user.avatar,\r\n          }\r\n        });\r\n    } catch (err) {\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg} })\r\n    }\r\n};\r\n\r\nexport const removeNotify = ({ msg, auth, socket }) => async (dispatch) => {\r\n  try {\r\n    await deleteDataAPI(`notify/${msg.id}?url=${msg.url}`, auth.token);\r\n    socket.emit(\"removeNotify\", msg);\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg },\r\n    });\r\n  }\r\n};\r\n\r\nexport const getNotifies = (token) => async (dispatch) => {\r\n  try {\r\n    const res = await getDataAPI('notifies', token);\r\n    \r\n    dispatch({type: NOTIFY_TYPES.GET_NOTIFIES, payload: res.data.notifies});\r\n    \r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg },\r\n    });\r\n  }\r\n};\r\n\r\nexport const isReadNotify = ({msg, auth}) => async (dispatch) => {\r\n\r\n  dispatch({type: NOTIFY_TYPES.UPDATE_NOTIFY, payload: {...msg, isRead: true} });\r\n\r\n  try {\r\n    await patchDataAPI(`isReadNotify/${msg._id}`,null, auth.token);\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg },\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteAllNotifies = (token) => async (dispatch) => {\r\n  dispatch({ type: NOTIFY_TYPES.DELETE_ALL_NOTIFICATIONS, payload: [] });\r\n\r\n  try {\r\n    await deleteDataAPI(`deleteAllNotify`, token);\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg },\r\n    });\r\n  }\r\n};\r\n","var map = {\n\t\"./adminDashboard\": 73,\n\t\"./adminDashboard.js\": 73,\n\t\"./discover\": 72,\n\t\"./discover.js\": 72,\n\t\"./home\": 74,\n\t\"./home.js\": 74,\n\t\"./login\": 63,\n\t\"./login.js\": 63,\n\t\"./message\": 69,\n\t\"./message/\": 69,\n\t\"./message/[id]\": 115,\n\t\"./message/[id].js\": 115,\n\t\"./message/index\": 69,\n\t\"./message/index.js\": 69,\n\t\"./post/[id]\": 113,\n\t\"./post/[id].js\": 113,\n\t\"./profile/[id]\": 114,\n\t\"./profile/[id].js\": 114,\n\t\"./register\": 64,\n\t\"./register.js\": 64\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 163;","import { GLOBALTYPES } from \"./globalTypes\";\r\nimport { getDataAPI, deleteDataAPI } from \"../../utils/fetchData\";\r\nimport { createNotify } from \"./notifyAction\";\r\n\r\nexport const ADMIN_TYPES = {\r\n  GET_TOTAL_USERS: \"GET_TOTAL_USERS\",\r\n  GET_TOTAL_POSTS: \"GET_TOTAL_POSTS\",\r\n  GET_TOTAL_COMMENTS: \"GET_TOTAL_COMMENTS\",\r\n  GET_TOTAL_LIKES: \"GET_TOTAL_LIKES\",\r\n  GET_TOTAL_SPAM_POSTS: \"GET_TOTAL_SPAM_POSTS\",\r\n  GET_TOTAL_ACTIVE_USERS: \"GET_TOTAL_ACTIVE_USERS\",\r\n  GET_SPAM_POSTS: \"GET_SPAM_POSTS\",\r\n  LOADING_ADMIN: \"LOADING_ADMIN\",\r\n  DELETE_POST: \"DELETE_POST\",\r\n  DELETE_USER: \"DELETE_USER\",\r\n};\r\n\r\n\r\n\r\nexport const getTotalUsers = (token) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: ADMIN_TYPES.LOADING_ADMIN, payload: true });\r\n    const res = await getDataAPI(\"get_total_users\", token);\r\n    dispatch({ type: ADMIN_TYPES.GET_TOTAL_USERS, payload: res.data });\r\n\r\n    dispatch({ type: ADMIN_TYPES.LOADING_ADMIN, payload: false });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        error: err.response.data.msg,\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\n\r\nexport const getTotalPosts = (token) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: ADMIN_TYPES.LOADING_ADMIN, payload: true });\r\n    const res = await getDataAPI(\"get_total_posts\", token);\r\n    dispatch({ type: ADMIN_TYPES.GET_TOTAL_POSTS, payload: res.data });\r\n\r\n    dispatch({ type: ADMIN_TYPES.LOADING_ADMIN, payload: false });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        error: err.response.data.msg,\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\n\r\n\r\nexport const getTotalComments = (token) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: ADMIN_TYPES.LOADING_ADMIN, payload: true });\r\n    const res = await getDataAPI(\"get_total_comments\", token);\r\n    dispatch({ type: ADMIN_TYPES.GET_TOTAL_COMMENTS, payload: res.data });\r\n\r\n    dispatch({ type: ADMIN_TYPES.LOADING_ADMIN, payload: false });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        error: err.response.data.msg,\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\n\r\nexport const getTotalLikes = (token) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: ADMIN_TYPES.LOADING_ADMIN, payload: true });\r\n    const res = await getDataAPI(\"get_total_likes\", token);\r\n    dispatch({ type: ADMIN_TYPES.GET_TOTAL_LIKES, payload: res.data });\r\n\r\n    dispatch({ type: ADMIN_TYPES.LOADING_ADMIN, payload: false });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        error: err.response.data.msg,\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\nexport const getTotalSpamPosts = (token) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: ADMIN_TYPES.LOADING_ADMIN, payload: true });\r\n    const res = await getDataAPI(\"get_total_spam_posts\", token);\r\n    dispatch({ type: ADMIN_TYPES.GET_TOTAL_SPAM_POSTS, payload: res.data });\r\n\r\n    dispatch({ type: ADMIN_TYPES.LOADING_ADMIN, payload: false });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        error: err.response.data.msg,\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\nexport const getSpamPosts = (token) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: ADMIN_TYPES.LOADING_ADMIN, payload: true });\r\n    const res = await getDataAPI(\"get_spam_posts\", token);\r\n    \r\n    dispatch({ type: ADMIN_TYPES.GET_SPAM_POSTS, payload: res.data.spamPosts });\r\n\r\n    dispatch({ type: ADMIN_TYPES.LOADING_ADMIN, payload: false });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        error: err.response.data.msg,\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteSpamPost = ({ post, auth, socket }) => async (dispatch) => {\r\n  dispatch({ type: ADMIN_TYPES.DELETE_POST, payload: post });\r\n\r\n  try {\r\n    const res = await deleteDataAPI(\r\n      `delete_spam_posts/${post._id}`,\r\n      auth.token\r\n    );\r\n\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { success: res.data.msg } });\r\n\r\n\r\n    // todo notification\r\n    const msg = {\r\n      id: auth.user._id,\r\n      text: \"Your Post is deleted due to too many reports.\",\r\n      recipients: [post.user._id],\r\n      url: `/profile/${post.user._id}`,\r\n    };\r\n\r\n    dispatch(createNotify({ msg, auth, socket }));\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        error: err.response.data.msg,\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\nexport const getTotalActiveUsers = ({auth, socket}) => async (dispatch) => {\r\n  try {\r\n    socket.emit('getActiveUsers', auth.user._id);\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        error: err.response.data.msg,\r\n      },\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteUser = ({ user, auth}) => async (dispatch) => {\r\n  // dispatch({ type: ADMIN_TYPES.DELETE_USER, payload: user });s\r\n\r\n  try {\r\n    const res = await deleteDataAPI(\r\n      `delete_user/${user._id}`,\r\n      auth.token\r\n    );\r\n\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { success: res.data.msg } });\r\n\r\n\r\n    // dispatch(createNotify({ msg, auth, socket }));\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: {\r\n        error: err.response.data.msg,\r\n      },\r\n    });\r\n  }\r\n};","export default __webpack_public_path__ + \"static/media/loading.10625dac.gif\";","import React from 'react'\r\n\r\nconst NotFound = () => {\r\n    return (\r\n        <div className=\"position-relative\" style={{minHeight: \"calc(100vh - 70px)\"}}>\r\n            <h2 className=\"position-absolute text-secondary\" style={{top: '50%', left:'50%', transform: 'translate(-50%, -50%)'}}>\r\n                404 | Not Found.\r\n            </h2>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NotFound\r\n","import React from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport NotFound from \"../components/NotFound\";\r\n\r\nconst generatePage = (pageName) => {\r\n  const component = () => require(`../pages/${pageName}`).default;\r\n\r\n  try {\r\n    return React.createElement(component());\r\n  } catch (err) {\r\n    return <NotFound />;\r\n  }\r\n};\r\n\r\nconst PageRender = () => {\r\n  const { page, id } = useParams();\r\n  const { auth } = useSelector((state) => state);\r\n\r\n  let pageName = \"\";\r\n  if (auth.token) {\r\n    if (id) {\r\n      pageName = `${page}/[id]`;\r\n    } else {\r\n      pageName = `${page}`;\r\n    }\r\n  }\r\n\r\n  return generatePage(pageName);\r\n};\r\n\r\nexport default PageRender;\r\n","import React from 'react'\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst PrivateRouter = (props) => {\r\n    const firstLogin = localStorage.getItem('firstLogin');\r\n    return firstLogin ? <Route {...props} /> :  <Redirect to=\"/\" />\r\n}\r\n\r\nexport default PrivateRouter\r\n","//!its a component\r\nimport React from \"react\";\r\n\r\nconst Loading = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        background: \"white\",\r\n        top: 0,\r\n        left: 0,\r\n        zIndex: 50,\r\n        opacity: 0.7\r\n      }}\r\n      className=\"position-fixed vh-100 w-100   d-flex justify-content-center align-items-center\"\r\n    >\r\n      <div className=\"loading\">\r\n        <span></span>\r\n        <span></span>\r\n        <span></span>\r\n        <span></span>\r\n      </div>\r\n\r\n      <text className=\"loading_text\" fill=\"#fff\" x=\"5\" y=\"47\">\r\n        Loading\r\n      </text>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n","import React from 'react'\r\n\r\nconst Toast = ({ msg, handleShow, bgColor }) => {\r\n  return (\r\n    <div\r\n      className={`toast show position-fixed text-light ${bgColor} `}\r\n      style={{ top: \"5px\", right: \"5px\", minWidth: \"200px\", zIndex: 50 }}\r\n    >\r\n      <div className={`toast-header text-light ${bgColor}`}>\r\n        <strong className=\"mr-auto text-light\">{msg.title}</strong>\r\n        <button\r\n          className=\"ml-auto mb-1 close text-light\"\r\n          data-dismiss=\"toast\"\r\n          style={{\r\n            border: \"none\",\r\n            background: \"none\",\r\n            fontSize: \"30px\",\r\n            right: 0,\r\n          }}\r\n          onClick={handleShow}\r\n        >\r\n          &times;\r\n        </button>\r\n      </div>\r\n      <div className=\"toast-body\">{msg.body}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Toast\r\n","import React from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport Loading from \"./Loading\";\r\nimport Toast from \"./Toast\";\r\nimport { GLOBALTYPES } from \"../../redux/actions/globalTypes\";\r\n\r\nconst Alert = () => {\r\n  const { alert } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  return (\r\n    <div>\r\n      {alert.loading && <Loading />}\r\n\r\n      {alert.error && (\r\n        <Toast\r\n          msg={{ title: \"Error\", body: alert.error }}\r\n          handleShow={() => dispatch({ type: GLOBALTYPES.ALERT, payload: {} })}\r\n          bgColor=\"bg-danger\"\r\n        />\r\n      )}\r\n\r\n      {alert.success && (\r\n        <Toast\r\n          msg={{ title: \"Success\", body: alert.success }}\r\n          handleShow={() => dispatch({ type: GLOBALTYPES.ALERT, payload: {} })}\r\n          bgColor=\"bg-success\"\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Alert;\r\n","import React from 'react';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Avatar from \"./Avatar\";\r\nimport moment from 'moment';\r\nimport { deleteAllNotifies, isReadNotify, NOTIFY_TYPES } from '../redux/actions/notifyAction';\r\n\r\nconst NotifyModal = () => {\r\n    const { auth, notify } = useSelector(state => state);\r\n    const dispatch = useDispatch();\r\n\r\n    const handleIsRead = (msg) => {\r\n      dispatch(isReadNotify({msg, auth}));\r\n    };\r\n\r\n    const handleDeleteAll = () => {\r\n      const newArr = notify.data.filter(item => item.isRead === false)\r\n      if(newArr.length === 0) return dispatch(deleteAllNotifies(auth.token))\r\n\r\n      if(window.confirm(`You have ${newArr.length} unread notifications.Do you want to delete all notifications?`)){\r\n        return dispatch(deleteAllNotifies(auth.token))\r\n      }\r\n    };\r\n\r\n    const handleSound = () => {\r\n      dispatch({type: NOTIFY_TYPES.UPDATE_SOUND, payload: !notify.sound });\r\n    };\r\n\r\n    return (\r\n      <div\r\n        className=\"mt-1\"\r\n        style={{\r\n          minWidth: \"280px\",\r\n          boxShadow: \"5px 8px 8px var(--c2) ,-3px -3px 8px var(--c3)\",\r\n          background: \"white\",\r\n          borderRadius: \"10px\",\r\n          borderTopRightRadius: \"0\",\r\n        }}\r\n      >\r\n        <div className=\"d-flex justify-content-between align-items-center\">\r\n          <h3>Notifications</h3>\r\n          {notify.sound ? (\r\n            <i\r\n              className=\"fas fa-bell text-danger\"\r\n              style={{ fontSize: \"1.2rem\", cursor: \"pointer\" }}\r\n              onClick={handleSound}\r\n            />\r\n          ) : (\r\n            <i\r\n              className=\"fas fa-bell-slash text-danger\"\r\n              style={{ fontSize: \"1.2rem\", cursor: \"pointer\" }}\r\n              onClick={handleSound}\r\n            />\r\n          )}\r\n        </div>\r\n        <hr className=\"mt-1\" />\r\n        {notify.data.length === 0 && (\r\n          <span className=\"text-muted w-100 text-center\">No Notifications</span>\r\n        )}\r\n        <div style={{ maxHeight: \"calc(100vh - 200px)\", overflow: \"auto\" }}>\r\n          {notify.data.map((msg, index) => (\r\n            <div className=\"px-2 mb-3\" key={index}>\r\n              <Link\r\n                to={`${msg.url}`}\r\n                style={{ textDecoration: \"none\" }}\r\n                className=\"d-flex text-dark align-items-center\"\r\n                onClick={() => handleIsRead(msg)}\r\n              >\r\n                <Avatar src={msg.user.avatar} size=\"big-avatar\" />\r\n\r\n                <div className=\"flex-fill mx-1\">\r\n                  <div>\r\n                    <strong className=\"mr-1\">{msg.user.username}</strong>\r\n                    <span>{msg.text}</span>\r\n                  </div>\r\n                  {msg.content && <small>{msg.content.slice(0, 20)}...</small>}\r\n                </div>\r\n                <div style={{ width: \"30px\" }}>\r\n                  {msg.image && <Avatar src={msg.image} size=\"medium-avatar\" />}\r\n                </div>\r\n              </Link>\r\n              <small className=\"text-muted d-flex justify-content-between px-2\">\r\n                {moment(msg.createdAt).fromNow()}\r\n                {!msg.isRead && <i className=\"fas fa-circle color-c1\" />}\r\n              </small>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <hr className=\"my-1\" />\r\n        <div\r\n          className=\"text-end my-auto me-2 color-c1\"\r\n          style={{ cursor: \"pointer\" }}\r\n          onClick={handleDeleteAll}\r\n        >\r\n          Delete\r\n        </div>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default NotifyModal\r\n","import React from \"react\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { logout } from \"../../redux/actions/authAction\";\r\nimport { GLOBALTYPES } from \"../../redux/actions/globalTypes\";\r\nimport Avatar from \"../Avatar\";\r\nimport NotifyModal from \"../NotifyModal\";\r\n\r\nconst Menu = () => {\r\n  const navLinks = [\r\n    { label: \"Home\", icon: \"home\", path: \"/\" },\r\n    { label: \"Message\", icon: \"near_me\", path: \"/message\" },\r\n    { label: \"Discover\", icon: \"explore\", path: \"/discover\" },\r\n  ];\r\n\r\n  const { auth, theme, notify } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  const { pathname } = useLocation();\r\n\r\n  const isActive = (pn) => {\r\n    if (pn === pathname) return \"active\";\r\n  };\r\n\r\n  return (\r\n    <div className=\"menu\">\r\n      <ul className=\"navbar-nav flex-row mb-2 mb-lg-0\">\r\n        {navLinks.map((link, index) => (\r\n          <li className={`nav-item px-2 ${isActive(link.path)}`} key={index}>\r\n            <Link className={`nav-link `} to={link.path}>\r\n              <span className={`material-icons `}>{link.icon}</span>\r\n            </Link>\r\n          </li>\r\n        ))}\r\n\r\n        <li className=\"nav-item dropdown\" style={{ opacity: \"1\" }}>\r\n          <span\r\n            className=\"nav-link position-relative\"\r\n            id=\"navbarDropdown\"\r\n            role=\"button\"\r\n            data-bs-toggle=\"dropdown\"\r\n            aria-expanded=\"false\"\r\n          >\r\n            <span\r\n              style={{ color: notify.data.length > 0 ? \"var(--c1)\" : \"\" }}\r\n              className={`material-icons `}\r\n            >\r\n              notifications\r\n            </span>\r\n            <span className=\"notify_length\">{notify.data.length}</span>\r\n          </span>\r\n\r\n          <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\r\n            <NotifyModal />\r\n          </div>\r\n        </li>\r\n\r\n        <li className=\"nav-item dropdown\" style={{ opacity: \"1\" }}>\r\n          <span\r\n            className=\"nav-link dropdown-toggle\"\r\n            id=\"navbarDropdown\"\r\n            role=\"button\"\r\n            data-bs-toggle=\"dropdown\"\r\n            aria-expanded=\"false\"\r\n          >\r\n            <Avatar src={auth.user.avatar} size=\"medium-avatar\" />\r\n          </span>\r\n          <ul className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\r\n            <li>\r\n              <Link\r\n                style={{ color: \"white\" }}\r\n                className=\"dropdown-item\"\r\n                to={`/profile/${auth.user._id}`}\r\n              >\r\n                Profile\r\n              </Link>\r\n            </li>\r\n            <li>\r\n              <label\r\n                style={{ color: \"white\" }}\r\n                htmlFor=\"theme\"\r\n                className=\"dropdown-item\"\r\n                onClick={() =>\r\n                  dispatch({ type: GLOBALTYPES.THEME, payload: !theme })\r\n                }\r\n              >\r\n                {theme ? \"Light mode\" : \"Dark mode\"}\r\n              </label>\r\n            </li>\r\n            <li>\r\n              <hr className=\"dropdown-divider\" />\r\n            </li>\r\n\r\n            <li>\r\n              <Link\r\n                style={{ color: \"white\" }}\r\n                className=\"dropdown-item\"\r\n                to=\"/\"\r\n                onClick={() => dispatch(logout())}\r\n              >\r\n                Logout\r\n              </Link>\r\n            </li>\r\n          </ul>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Menu;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Menu from \"./Menu\";\r\nimport Search from \"./Search\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getPosts } from '../../redux/actions/postAction';\r\nimport { getSuggestions } from '../../redux/actions/suggestionsAction';\r\n\r\n\r\nconst Header = () => {\r\n  const { auth } = useSelector(state => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleRefreshHome = () => {\r\n    window.scrollTo({top: 0})\r\n    dispatch(getPosts(auth.token));\r\n    dispatch(getSuggestions(auth.token));\r\n  };\r\n\r\n  return (\r\n    <div className=\"header bg-light\">\r\n      <nav className=\"navbar navbar-expand-lg navbar-light bg-light justify-content-between\">\r\n        <div className=\"container-fluid\">\r\n          <Link to=\"/\" className=\"logo\" onClick={handleRefreshHome}>\r\n            <h1 className=\"navbar-brand text-uppercase p-0 m-0\">Acro Connect</h1>\r\n          </Link>\r\n\r\n          <Search />\r\n\r\n          <Menu />\r\n         \r\n        </div>\r\n      </nav>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { GLOBALTYPES } from \"../redux/actions/globalTypes\";\r\nimport { createPost, updatePost } from \"../redux/actions/postAction\";\r\nimport Icons from \"./Icons\";\r\nimport { imageShow, videoShow } from \"../utils/mediaShow\";\r\n\r\nconst StatusModal = () => {\r\n  const { auth, theme, status, socket } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const [content, setContent] = useState(\"\");\r\n  const [images, setImages] = useState([]);\r\n  const [stream, setStream] = useState(false);\r\n  const videoRef = useRef();\r\n  const refCanvas = useRef();\r\n  const [tracks, setTracks] = useState(\"\");\r\n\r\n  const handleChangeImages = (e) => {\r\n    const files = [...e.target.files];\r\n    let err = \"\";\r\n    let newImages = [];\r\n\r\n    files.forEach((file) => {\r\n      if (!file) {\r\n        return (err = \"File does not exist.\");\r\n      }\r\n      if (file.size > 1024 * 1024 * 5) {\r\n        return (err = \"Image size must be less than 5 mb.\");\r\n      }\r\n      return newImages.push(file);\r\n    });\r\n    if (err) {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err } });\r\n    }\r\n    setImages([...images, ...newImages]);\r\n  };\r\n\r\n  const deleteImages = (index) => {\r\n    const newArr = [...images];\r\n    newArr.splice(index, 1);\r\n    setImages(newArr);\r\n  };\r\n\r\n  const handleStream = () => {\r\n    setStream(true);\r\n    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\r\n      navigator.mediaDevices\r\n        .getUserMedia({ video: true })\r\n        .then((mediaStream) => {\r\n          videoRef.current.srcObject = mediaStream;\r\n          videoRef.current.play();\r\n          const track = mediaStream.getTracks();\r\n          setTracks(track[0]);\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  };\r\n\r\n  const handleCapture = () => {\r\n    const width = videoRef.current.clientWidth;\r\n    const height = videoRef.current.clientHeight;\r\n\r\n    refCanvas.current.setAttribute(\"width\", width);\r\n    refCanvas.current.setAttribute(\"height\", height);\r\n\r\n    const ctx = refCanvas.current.getContext(\"2d\");\r\n    ctx.drawImage(videoRef.current, 0, 0, width, height);\r\n\r\n    let URL = refCanvas.current.toDataURL();\r\n    setImages([...images, { camera: URL }]);\r\n  };\r\n\r\n  const handleStopStream = () => {\r\n    tracks.stop();\r\n    setStream(false);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (images.length === 0) {\r\n      return dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: \"Add image(s).\" },\r\n      });\r\n    }\r\n\r\n    if (status.onEdit) {\r\n      dispatch(updatePost({ content, images, auth, status }));\r\n    } else {\r\n      dispatch(createPost({ content, images, auth, socket }));\r\n    }\r\n\r\n    setContent(\"\");\r\n    setImages([]);\r\n    if (tracks) {\r\n      tracks.stop();\r\n    }\r\n    dispatch({\r\n      type: GLOBALTYPES.STATUS,\r\n      payload: false,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (status.onEdit) {\r\n      setContent(status.content);\r\n      setImages(status.images);\r\n    }\r\n  }, [status]);\r\n\r\n  \r\n\r\n  return (\r\n    <div className=\"status_modal\">\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"status_header\">\r\n          <h5 className=\"m-0\">Create Post</h5>\r\n          <span\r\n            onClick={() =>\r\n              dispatch({ type: GLOBALTYPES.STATUS, payload: false })\r\n            }\r\n          >\r\n            &times;\r\n          </span>\r\n        </div>\r\n        <div className=\"status_body\">\r\n          <textarea\r\n            onChange={(e) => setContent(e.target.value)}\r\n            value={content}\r\n            name=\"content\"\r\n            placeholder={`${auth.user.username}, What's on your mind?`}\r\n            style={{\r\n              filter: theme ? \"invert(1)\" : \"invert(0)\",\r\n              color: theme ? \"white\" : \"#111\",\r\n              background: theme ? \"rgb(0,0,0,0.3)\" : \"\",\r\n            }}\r\n          />\r\n\r\n          <div className=\"d-flex\">\r\n            <div className=\"flex-fill\"></div>\r\n            <Icons setContent={setContent} content={content} theme={theme} />\r\n          </div>\r\n\r\n          <div className=\"show_images\">\r\n            {images.map((img, index) => (\r\n              <div key={index} className=\"file_img\">\r\n                {img.camera ? (\r\n                  imageShow(img.camera, theme)\r\n                ) : img.url ? (\r\n                  <>\r\n                    {img.url.match(/video/i)\r\n                      ? videoShow(img.url)\r\n                      : imageShow(img.url)}\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    {img.type.match(/video/i)\r\n                      ? videoShow(URL.createObjectURL(img, theme))\r\n                      : imageShow(URL.createObjectURL(img, theme))}\r\n                  </>\r\n                )}\r\n                <span onClick={() => deleteImages(index)}>&times;</span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          {stream && (\r\n            <div className=\"stream position-relative\">\r\n              <video\r\n                width=\"100%\"\r\n                height=\"100%\"\r\n                ref={videoRef}\r\n                style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\r\n                autoPlay\r\n                muted\r\n              />\r\n\r\n              <span onClick={handleStopStream}>&times;</span>\r\n              <canvas style={{ display: \"none\" }} ref={refCanvas} />\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"input_images\">\r\n            {stream ? (\r\n              <i className=\"fas fa-camera\" onClick={handleCapture} />\r\n            ) : (\r\n              <>\r\n                <i className=\"fas fa-camera\" onClick={handleStream} />\r\n                <div className=\"file_upload\">\r\n                  <i className=\"fas fa-image\" />\r\n                  <input\r\n                    onChange={handleChangeImages}\r\n                    type=\"file\"\r\n                    name=\"file\"\r\n                    id=\"file\"\r\n                    multiple\r\n                    accept=\"image/*,video/*\"\r\n                  />\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"status_footer\">\r\n          <button type=\"submit\" className=\"btn btn-primary w-100\">\r\n            Post\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StatusModal;\r\n","export default __webpack_public_path__ + \"static/media/pristine-609.9287f5ce.mp3\";","import React, { useEffect, useRef } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { POST_TYPES } from \"./redux/actions/postAction\";\r\nimport { ADMIN_TYPES } from \"./redux/actions/adminAction\";\r\nimport { GLOBALTYPES } from \"./redux/actions/globalTypes\";\r\nimport { NOTIFY_TYPES } from \"./redux/actions/notifyAction\";\r\nimport { MESSAGE_TYPES } from \"./redux/actions/messageAction\";\r\n\r\nimport audioTone from './audio/pristine-609.mp3' \r\n\r\nconst spawnNotification = (body, icon, url, title) => {\r\n  let options = {\r\n    body, icon\r\n  }\r\n  let n = new Notification(title, options);\r\n  n.onclick =  e => {\r\n    e.preventDefault();\r\n    window.open(url, '_blank');\r\n  }\r\n}\r\n\r\nconst SocketClient = () => {\r\n  const { auth, socket, notify } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const audioRef = useRef();\r\n\r\n  //!connection\r\n  useEffect(() => {\r\n    if (auth.user.role === \"user\") {\r\n      socket.emit(\"joinUser\", auth.user._id);\r\n    } else if (auth.user.role === \"admin\") {\r\n      socket.emit(\"joinAdmin\", auth.user._id);\r\n    }\r\n  }, [socket, auth.user.role, auth.user._id]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"getActiveUsersToClient\", (totalActiveUsers) => {\r\n      dispatch({\r\n        type: ADMIN_TYPES.GET_TOTAL_ACTIVE_USERS,\r\n        payload: totalActiveUsers,\r\n      });\r\n    });\r\n    return () => socket.off(\"getActiveUsersToClient\");\r\n  }, [socket, dispatch]);\r\n\r\n  //!like Post\r\n  useEffect(() => {\r\n    socket.on(\"likeToClient\", (newPost) => {\r\n      dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n    });\r\n    return () => socket.off(\"likeToClient\");\r\n  }, [socket, dispatch]);\r\n\r\n  //!Unlike Post\r\n  useEffect(() => {\r\n    socket.on(\"unLikeToClient\", (newPost) => {\r\n      dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n    });\r\n    return () => socket.off(\"unLikeToClient\");\r\n  }, [socket, dispatch]);\r\n\r\n  //!Comments\r\n  useEffect(() => {\r\n    socket.on(\"createCommentToClient\", (newPost) => {\r\n      dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n    });\r\n    return () => socket.off(\"createCommentToClient\");\r\n  }, [socket, dispatch]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"deleteCommentToClient\", (newPost) => {\r\n      dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n    });\r\n    return () => socket.off(\"deleteCommentToClient\");\r\n  }, [socket, dispatch]);\r\n\r\n  //!Follow\r\n  useEffect(() => {\r\n    socket.on(\"followToClient\", (newUser) => {\r\n      dispatch({ type: GLOBALTYPES.AUTH, payload: { ...auth, user: newUser } });\r\n    });\r\n    return () => socket.off(\"followToClient\");\r\n  }, [socket, dispatch, auth]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"unFollowToClient\", (newUser) => {\r\n      dispatch({\r\n        type: GLOBALTYPES.AUTH,\r\n        payload: { ...auth, user: newUser },\r\n      });\r\n    });\r\n    return () => socket.off(\"unFollowToClient\");\r\n  }, [socket, dispatch, auth]);\r\n\r\n  //!Notifications\r\n  useEffect(() => {\r\n    socket.on(\"createNotifyToClient\", (msg) => {\r\n      dispatch({ type: NOTIFY_TYPES.CREATE_NOTIFY, payload: msg });\r\n\r\n      if (notify.sound) {\r\n        audioRef.current.play();\r\n      }\r\n      spawnNotification(\r\n        msg.user.username + \" \" + msg.text,\r\n        msg.user.avatar,\r\n        msg.url,\r\n        \"Acro Connect\"\r\n      );\r\n    });\r\n    return () => socket.off(\"createNotifyToClient\");\r\n  }, [socket, dispatch, notify.sound]);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"removeNotifyToClient\", (msg) => {\r\n      dispatch({ type: NOTIFY_TYPES.REMOVE_NOTIFY, payload: msg });\r\n    });\r\n    return () => socket.off(\"removeNotifyToClient\");\r\n  }, [socket, dispatch]);\r\n\r\n  //!Messages\r\n  useEffect(() => {\r\n    socket.on(\"addMessageToClient\", (msg) => {\r\n      dispatch({ type: MESSAGE_TYPES.ADD_MESSAGE, payload: msg });\r\n\r\n    });\r\n    return () => socket.off(\"addMessageToClient\");\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <audio controls ref={audioRef} style={{ display: \"none\" }}>\r\n        <source src={audioTone} type=\"audio/mp3\" />\r\n      </audio>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SocketClient;\r\n","import { BrowserRouter as Router, Route } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useEffect } from \"react\";\r\nimport io from 'socket.io-client'\r\n\r\nimport PageRender from \"./customRouter/PageRender\";\r\nimport PrivateRouter from \"./customRouter/PrivateRouter\";\r\nimport Login from \"./pages/login\";\r\nimport Register from \"./pages/register\";\r\nimport Home from \"./pages/home\";\r\nimport Alert from \"./components/alert/Alert\";\r\nimport Header from \"./components/header/Header\";\r\nimport StatusModal from \"./components/StatusModal\";\r\nimport { refreshToken } from \"./redux/actions/authAction\";\r\nimport { getPosts } from \"./redux/actions/postAction\";\r\nimport { getSuggestions } from \"./redux/actions/suggestionsAction\";\r\nimport { getNotifies } from \"./redux/actions/notifyAction\";\r\n\r\nimport AdminDashboard from \"./pages/adminDashboard\";\r\nimport { GLOBALTYPES } from \"./redux/actions/globalTypes\";\r\nimport SocketClient from \"./SocketClient\";\r\n\r\nfunction App() {\r\n  const { auth, status, modal, userType } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(refreshToken());\r\n\r\n    const socket = io();\r\n    dispatch({type: GLOBALTYPES.SOCKET, payload: socket })\r\n    return () => socket.close()\r\n  }, [dispatch]);\r\n\r\n\r\n  useEffect(() => {\r\n    if (auth.token) {\r\n      dispatch(getPosts(auth.token));\r\n      dispatch(getSuggestions(auth.token));\r\n      dispatch(getNotifies(auth.token));\r\n    }\r\n  }, [dispatch, auth.token]);\r\n\r\n  useEffect(() => {\r\n    if (!(\"Notification\" in window)) {\r\n      alert(\"This browser does not support desktop notification\");\r\n    } else if (Notification.permission === \"granted\") {\r\n\r\n    } else if (Notification.permission !== \"denied\") {\r\n      Notification.requestPermission().then(function (permission) {\r\n        if (permission === \"granted\") {\r\n        }\r\n      });\r\n    }\r\n  }, [])\r\n\r\n   \r\n\r\n  return (\r\n    <Router>\r\n      <Alert />\r\n      <input type=\"checkbox\" id=\"theme\" />\r\n      <div className={`App ${(status || modal) && \"mode\"}`}>\r\n        <div className=\"main\">\r\n          {userType === \"user\" && auth.token && <Header />}\r\n          {status && <StatusModal />}\r\n          {auth.token && <SocketClient /> }\r\n          <Route\r\n            exact\r\n            path=\"/\"\r\n            component={\r\n              userType === \"user\"\r\n                ? auth.token\r\n                  ? Home\r\n                  : Login\r\n                : auth.token\r\n                ? AdminDashboard\r\n                : Login\r\n            }\r\n          />\r\n          \r\n          {userType === \"user\"   ? (\r\n            <>\r\n              <Route exact path=\"/register\" component={Register} />\r\n              <div className=\"wrap_page\">\r\n                <PrivateRouter exact path=\"/:page\" component={PageRender} />\r\n                <PrivateRouter exact path=\"/:page/:id\" component={PageRender} />\r\n              </div>\r\n            </>\r\n          ):\r\n          (\r\n            <>\r\n              <Route exact path=\"/register\" component={Register} />\r\n              <div className=\"wrap_page\">\r\n                <PrivateRouter exact path=\"/:page\" component={PageRender} />\r\n                <PrivateRouter exact path=\"/:page/:id\" component={PageRender} />\r\n              </div>\r\n            </>\r\n          )\r\n          }\r\n        </div>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { GLOBALTYPES } from '../actions/globalTypes';\r\n\r\n\r\nconst initialState = {\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n      case GLOBALTYPES.AUTH:\r\n        return action.payload;\r\n\r\n      default:\r\n        return state;\r\n    }\r\n}\r\n\r\nexport default authReducer;","import { GLOBALTYPES } from \"../actions/globalTypes\";\r\n\r\nconst userTypeReducer = (state = \"user\", action) => {\r\n  switch (action.type) {\r\n    case GLOBALTYPES.USER_TYPE:\r\n      return action.payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default userTypeReducer;\r\n","import { GLOBALTYPES } from \"../actions/globalTypes\";\r\n\r\nconst initialState = {};\r\n\r\nconst alertReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case GLOBALTYPES.ALERT:\r\n      return action.payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default alertReducer;\r\n","import { GLOBALTYPES } from \"../actions/globalTypes\";\r\n\r\nconst initialState = false;\r\n\r\nconst themeReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case GLOBALTYPES.THEME:\r\n      return action.payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default themeReducer;\r\n","import { PROFILE_TYPES } from \"../actions/profileAction\";\r\nimport { EditData } from '../actions/globalTypes';\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  ids:[],\r\n  users: [],\r\n  posts: []\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case PROFILE_TYPES.LOADING:\r\n      return {\r\n        ...state,\r\n        loading: action.payload,\r\n      };\r\n\r\n    case PROFILE_TYPES.GET_USER:\r\n      return {\r\n        ...state,\r\n        users: [...state.users, action.payload.user],\r\n      };\r\n\r\n    case PROFILE_TYPES.FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: EditData(state.users, action.payload._id, action.payload),\r\n      };\r\n\r\n    case PROFILE_TYPES.UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: EditData(state.users, action.payload._id, action.payload),\r\n      };\r\n\r\n    case PROFILE_TYPES.GET_ID:\r\n      return {\r\n        ...state,\r\n        ids: [...state.ids, action.payload],\r\n      };\r\n\r\n    case PROFILE_TYPES.GET_POSTS:\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, action.payload],\r\n      };\r\n\r\n    case PROFILE_TYPES.UPDATE_POST:\r\n      return {\r\n        ...state,\r\n        posts: EditData(state.posts, action.payload._id, action.payload)\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n\r\nexport default profileReducer;","import { GLOBALTYPES } from \"../actions/globalTypes\";\r\n\r\n\r\nconst statusReducer = (state = false, action) => {\r\n  switch (action.type) {\r\n    case GLOBALTYPES.STATUS:\r\n      return action.payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default statusReducer;\r\n","import { POST_TYPES } from \"../actions/postAction\";\r\nimport { EditData, DeleteData } from \"../actions/globalTypes\";\r\n\r\nconst initialState = {\r\n    loading: false,\r\n    posts: [],\r\n    result: 0,\r\n    page:2,\r\n\r\n}\r\n\r\nconst postReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case POST_TYPES.CREATE_POST:\r\n      return {\r\n        ...state,\r\n        posts: [action.payload, ...state.posts],\r\n      };\r\n\r\n    case POST_TYPES.LOADING_POST:\r\n      return {\r\n        ...state,\r\n        loading: action.payload,\r\n      };\r\n\r\n    case POST_TYPES.GET_POSTS:\r\n      return {\r\n        ...state,\r\n        posts: action.payload.posts,\r\n        result: action.payload.result,\r\n        page: action.payload.page,\r\n      };\r\n\r\n    case POST_TYPES.UPDATE_POST:\r\n      return {\r\n        ...state,\r\n        posts: EditData(state.posts, action.payload._id, action.payload),\r\n      };\r\n\r\n    case POST_TYPES.DELETE_POST:\r\n      return {\r\n        ...state,\r\n        posts: DeleteData(state.posts, action.payload._id),\r\n      };\r\n\r\n    case POST_TYPES.REPORT_POST:\r\n      return {\r\n        ...state,\r\n        posts: EditData(state.posts, action.payload._id, action.payload),\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default postReducer;\r\n","import { GLOBALTYPES } from \"../actions/globalTypes\";\r\n\r\nconst initialState = false;\r\n\r\nconst modalReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case GLOBALTYPES.MODAL:\r\n      return action.payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default modalReducer;\r\n","import { POST_TYPES } from \"../actions/postAction\";\r\nimport { EditData } from \"../actions/globalTypes\";\r\n\r\n\r\n\r\nconst detailPostReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case POST_TYPES.GET_POST:\r\n      return [...state, action.payload];\r\n\r\n    case POST_TYPES.UPDATE_POST:\r\n      return EditData(state, action.payload._id, action.payload);\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default detailPostReducer;\r\n","import { ADMIN_TYPES } from \"../actions/adminAction\";\r\nimport { DeleteData } from \"../actions/globalTypes\";\r\n\r\nconst initialState = {\r\n    total_users: 0,\r\n    total_posts: 0,\r\n    total_comments: 0,\r\n    total_likes: 0,\r\n    total_active_users: 0,\r\n    total_spam_posts: 0,\r\n    spam_posts : [],\r\n    user :[]\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADMIN_TYPES.GET_TOTAL_USERS:\r\n      return {\r\n        ...state,\r\n        total_users: action.payload.total_users,\r\n      };\r\n\r\n    case ADMIN_TYPES.GET_TOTAL_POSTS:\r\n      return {\r\n        ...state,\r\n        total_posts: action.payload.total_posts,\r\n      };\r\n\r\n    case ADMIN_TYPES.GET_TOTAL_COMMENTS:\r\n      return {\r\n        ...state,\r\n        total_comments: action.payload.total_comments,\r\n      };\r\n\r\n    case ADMIN_TYPES.GET_TOTAL_LIKES:\r\n      return {\r\n        ...state,\r\n        total_likes: action.payload.total_likes,\r\n      };\r\n\r\n    case ADMIN_TYPES.GET_TOTAL_SPAM_POSTS:\r\n      return {\r\n        ...state,\r\n        total_spam_posts: action.payload.total_spam_posts,\r\n      };\r\n\r\n    case ADMIN_TYPES.GET_TOTAL_ACTIVE_USERS:\r\n      return {\r\n        ...state,\r\n        total_active_users: action.payload,\r\n      };\r\n\r\n    case ADMIN_TYPES.LOADING_ADMIN:\r\n      return {\r\n        ...state,\r\n        loading: action.payload,\r\n      };\r\n\r\n    case ADMIN_TYPES.GET_SPAM_POSTS:\r\n      return {\r\n        ...state,\r\n        spam_posts: [...action.payload],\r\n      };\r\n    case ADMIN_TYPES.DELETE_POST:\r\n      return {\r\n        ...state,\r\n        spam_posts: DeleteData(state.spam_posts, action.payload._id),\r\n      };\r\n      case ADMIN_TYPES.DELETE_USER:\r\n      return {\r\n        ...state,\r\n        user: DeleteData(state.user, action.payload._id),\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n","import { DISCOVER_TYPES } from \"../actions/discoverAction\";\r\n\r\nconst initialState = {\r\n    loading: false,\r\n    posts: [],\r\n    result: 9,\r\n    page: 2,\r\n    firstLoad: false,\r\n};\r\n\r\nconst discoverReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case DISCOVER_TYPES.LOADING:\r\n      return {\r\n        ...state,\r\n        loading: action.payload,\r\n      };\r\n\r\n    case DISCOVER_TYPES.GET_POSTS:\r\n      return {\r\n        ...state,\r\n        posts: action.payload.posts,\r\n        result: action.payload.result,\r\n        firstLoad: true,\r\n      };\r\n\r\n    case DISCOVER_TYPES.UPDATE_POSTS:\r\n      return {\r\n        ...state,\r\n        posts: [...action.payload.posts],\r\n        result: action.payload.result,\r\n        page: state.page + 1,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default discoverReducer;\r\n","import { SUGGEST_TYPES } from \"../actions/suggestionsAction\";\r\n\r\nconst initialState = {\r\n    loading: false,\r\n    users: [],\r\n};\r\n\r\nconst suggestionsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SUGGEST_TYPES.LOADING:\r\n      return {\r\n        ...state,\r\n        loading: action.payload,\r\n      };\r\n\r\n    case SUGGEST_TYPES.GET_USERS:\r\n      return {\r\n        ...state,\r\n        users: action.payload.users,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default suggestionsReducer;\r\n","import { GLOBALTYPES } from \"../actions/globalTypes\";\r\n\r\n\r\n\r\nconst socketReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case GLOBALTYPES.SOCKET:\r\n      return action.payload;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default socketReducer;\r\n","import { NOTIFY_TYPES } from \"../actions/notifyAction\";\r\nimport { EditData } from \"../actions/globalTypes\";\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  data: [],\r\n  sound: false,\r\n}\r\n\r\n\r\nconst authReducer = (state = initialState , action) => {\r\n  switch (action.type) {\r\n    case NOTIFY_TYPES.GET_NOTIFIES:\r\n      return {\r\n        ...state,\r\n        data: action.payload,\r\n      };\r\n\r\n    case NOTIFY_TYPES.CREATE_NOTIFY:\r\n      return {\r\n        ...state,\r\n        data: [...state.data, action.payload],\r\n      };\r\n\r\n    case NOTIFY_TYPES.UPDATE_NOTIFY:\r\n      return {\r\n        ...state,\r\n        data: EditData(state.data, action.payload._id, action.payload),\r\n      };\r\n\r\n    case NOTIFY_TYPES.UPDATE_SOUND:\r\n      return {\r\n        ...state,\r\n        sound: action.payload,\r\n      };\r\n\r\n    case NOTIFY_TYPES.REMOVE_NOTIFY:\r\n      return {\r\n        ...state,\r\n        data: state.data.filter(\r\n          (item) =>\r\n            item.id !== action.payload.id || item.url !== action.payload.url\r\n        ),\r\n      };\r\n\r\n    case NOTIFY_TYPES.DELETE_ALL_NOTIFICATIONS:\r\n      return {\r\n        ...state,\r\n        data: action.payload\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n","import { MESSAGE_TYPES } from \"../actions/messageAction\";\r\n\r\nconst initialState = {\r\n    users: [],\r\n    resultUsers: 0,\r\n    data: [],\r\n    resultData: 0,\r\n    firstLoad: false \r\n};\r\n\r\nconst messageReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case MESSAGE_TYPES.ADD_USER:\r\n      return {\r\n        ...state,\r\n        users: [...state.data, action.payload],\r\n      };\r\n\r\n    case MESSAGE_TYPES.ADD_MESSAGE:\r\n      return {\r\n        ...state,\r\n        data: [...state.data, action.payload],\r\n        users: state.users.map((user) =>\r\n          user._id === action.payload.recipient ||\r\n          user._id === action.payload.sender\r\n            ? {\r\n                ...user,\r\n                text: action.payload.text,\r\n                media: action.payload.media,\r\n              }\r\n            : user\r\n        ),\r\n      };\r\n\r\n    case MESSAGE_TYPES.GET_CONVERSATIONS:\r\n      return {\r\n        ...state,\r\n        users: action.payload.newArr,\r\n        resultUsers: action.payload.result,\r\n        firstLoad: true\r\n      };\r\n\r\n    case MESSAGE_TYPES.GET_MESSAGES:\r\n      return {\r\n        ...state,\r\n        data: action.payload.messages.reverse(),\r\n        resultData: action.payload.result,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default messageReducer;\r\n","import { combineReducers } from 'redux';\r\n\r\nimport auth from './authReducer';\r\nimport userType from './userTypeReducer';\r\nimport alert from './alertReducer';\r\nimport theme from './themeReducer';\r\nimport profile from './profileReducer';\r\nimport status from './statusReducer';\r\nimport homePosts from './postReducer';\r\nimport modal from './modalReducer';\r\nimport detailPost from \"./detailPostReducer\";\r\nimport admin from \"./adminReducer\";\r\nimport discover from \"./discoverReducer\";\r\nimport suggestions from \"./suggestionsReducer\";\r\nimport socket from \"./socketReducer\";\r\nimport notify from \"./notifyReducer\";\r\nimport message from \"./messageReducer\";\r\n\r\nexport default combineReducers({\r\n  auth,\r\n  alert,\r\n  theme,\r\n  profile,\r\n  status,\r\n  homePosts,\r\n  modal,\r\n  detailPost,\r\n  userType,\r\n  admin,\r\n  discover,\r\n  suggestions,\r\n  socket,\r\n  notify,\r\n  message,\r\n});","import { createStore, applyMiddleware } from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport rootReducer from './reducers/index';\r\n\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\n\r\nconst store = createStore( rootReducer, composeWithDevTools(applyMiddleware(thunk)));\r\n\r\n\r\nconst DataProvider = ({children}) => {\r\n    return(\r\n        <Provider store={store}>\r\n            {children}\r\n        </Provider>\r\n    )\r\n}\r\n\r\nexport default DataProvider;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './styles/global.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nimport DataProvider from './redux/store';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <DataProvider>\r\n      <App />\r\n    </DataProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","import React from 'react'\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst Avatar = ({src, size}) => {\r\n     const { theme } = useSelector((state) => state);\r\n    return (\r\n        <img\r\n          src={src}\r\n          alt=\"Avatar\"\r\n          className={size}\r\n          style={{ filter: `${theme ? \"invert(1)\" : \"invert(0)\"}` }}\r\n        />\r\n    );\r\n}\r\n\r\nexport default Avatar\r\n","import React from 'react';\r\nimport Avatar from \"./Avatar\";\r\nimport { Link } from \"react-router-dom\";\r\n// import { useSelector } from \"react-redux\";\r\n\r\nconst UserCard = ({\r\n  children,\r\n  user,\r\n  border,\r\n  handleClose,\r\n  setShowFollowers,\r\n  setShowFollowing,\r\n  msg\r\n}) => {\r\n\r\n  // const { theme } = useSelector(state => state);\r\n\r\n  const handleCloseAll = () => {\r\n    if (handleClose) handleClose();\r\n    if (setShowFollowers) setShowFollowers(false);\r\n    if (setShowFollowing) setShowFollowing(false);\r\n  };\r\n  return (\r\n    <div\r\n      className={`d-flex justify-content-between p-2 w-100 align-items-center ${border}`}\r\n    >\r\n      <div>\r\n        <Link\r\n          to={`/profile/${user._id}`}\r\n          onClick={handleCloseAll}\r\n          className=\"d-flex align-items-center\"\r\n          style={{ textDecoration: \"none\" }}\r\n        >\r\n          <div className=\"outer-shadow big-avatar-cover \">\r\n            <Avatar src={user.avatar} size=\"big-avatar\" />\r\n          </div>\r\n          <div className=\"ms-2\" style={{ transform: \"translateY(-2px)\" }}>\r\n            <span className=\"d-block color-c2\">{user.username}</span>\r\n\r\n            <small className=\"d-flex text-muted\" style={{ flexWrap: \"wrap\" }}>\r\n              {msg ? (\r\n                <>\r\n                  <div>{user.text}</div>\r\n                  {user.media.length > 0 && <div>{user.media.length} <i className=\"fas fa-image\" /></div>}\r\n                </>\r\n              ) : (\r\n                user.fullname\r\n              )}\r\n            </small>\r\n          </div>\r\n        </Link>\r\n      </div>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserCard\r\n","import { GLOBALTYPES, DeleteData } from \"./globalTypes\";\r\nimport { getDataAPI, patchDataAPI } from \"../../utils/fetchData\";\r\nimport { imageUpload } from \"../../utils/imageUpload\";\r\nimport { createNotify, removeNotify } from \"./notifyAction\";\r\n\r\nexport const PROFILE_TYPES = {\r\n  LOADING: \"LOADING_PROFILE\",\r\n  GET_USER: \"GET_PROFILE_USER\",\r\n  FOLLOW: \"FOLLOW\",\r\n  UNFOLLOW: \"UNFOLLOW\",\r\n  GET_ID: \"GET_PROFILE_ID\",\r\n  GET_POSTS: \"GET_PROFILE_POSTS\",\r\n  UPDATE_POST: \"UPDATE_PROFILE_POSTS\",\r\n\r\n};\r\n\r\n\r\nexport const getProfileUsers = ({ id, auth}) => async (dispatch) => {\r\n\r\n  dispatch({type:PROFILE_TYPES.GET_ID, payload: id})\r\n\r\n    try {\r\n      dispatch({type: PROFILE_TYPES.LOADING, payload:true});\r\n      const res =  getDataAPI(`/user/${id}`, auth.token);\r\n      \r\n      const res1 =  getDataAPI(`/user_posts/${id}`, auth.token);\r\n\r\n      const users = await res;\r\n      const posts = await res1;\r\n\r\n      dispatch({ type: PROFILE_TYPES.GET_USER, payload: users.data });\r\n      dispatch({ type: PROFILE_TYPES.GET_POSTS, payload: {...posts.data, _id: id, page: 2} });\r\n\r\n      dispatch({ type: PROFILE_TYPES.LOADING, payload: false });\r\n      \r\n    } catch (err) {\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg} });\r\n    }\r\n  }\r\n\r\n\r\n\r\nexport const updateProfileUser = ({userData, avatar, auth}) => async (dispatch) => {\r\n  if(!userData.fullname){\r\n    return dispatch({type: GLOBALTYPES.ALERT, payload: {error: \"Please enter full name.\"}})\r\n  }\r\n\r\n  if (userData.fullname.length > 25) {\r\n    return dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: \"Full name is too long.\" },\r\n    });\r\n  }\r\n\r\n  if (userData.story.length > 200) {\r\n    return dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: \"Story is too long.\" },\r\n    });\r\n  }\r\n\r\n  try {\r\n    let media;\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { loading: true }\r\n    });\r\n\r\n    if(avatar){\r\n      media = await imageUpload([avatar]);\r\n    }\r\n\r\n    const res = await patchDataAPI(\"user\", { ...userData, avatar: avatar ? media[0].url : auth.user.avatar }, auth.token);\r\n\r\n    dispatch({\r\n      type: GLOBALTYPES.AUTH,\r\n      payload: {\r\n        ...auth,\r\n        user: {\r\n          ...auth.user,\r\n          ...userData,\r\n          avatar: avatar ? media[0].url : auth.user.avatar,\r\n        },\r\n      },\r\n    });\r\n   \r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { success: res.data.msg },\r\n    });\r\n\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg },\r\n    });\r\n  }\r\n\r\n};\r\n\r\nexport const follow = ({ users, user, auth, socket }) => async (dispatch) => {\r\n  let newUser;\r\n  if(users.every(item => item._id !== user._id )){\r\n    newUser = { ...user, followers: [...user.followers, auth.user] };\r\n  }else{\r\n    users.forEach(item => {\r\n      if(item._id === user._id){\r\n        newUser = { ...item, followers: [...item.followers, auth.user] };\r\n      }\r\n    })\r\n  }\r\n   \r\n  \r\n  dispatch({ type: PROFILE_TYPES.FOLLOW, payload: newUser });\r\n\r\n  dispatch({ type: GLOBALTYPES.AUTH, payload: { ...auth, user:{...auth.user, following: [...auth.user.following, newUser] } } });\r\n\r\n  \r\n\r\n  try {\r\n    const res = await patchDataAPI(\r\n      `/user/${user._id}/follow`,\r\n      null,\r\n      auth.token\r\n    );\r\n    // todo socket\r\n    socket.emit(\"follow\", res.data.newUser);\r\n\r\n    // todo notification\r\n    const msg = {\r\n      id: auth.user._id,\r\n      text: 'started following you',\r\n      recipients: [newUser._id],\r\n      url: `/profile/${auth.user._id}`,\r\n    };\r\n\r\n    dispatch(createNotify({ msg, auth, socket }));\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg },\r\n    });\r\n  }\r\n};\r\n\r\nexport const unfollow = ({ users, user, auth, socket }) => async (dispatch) => {\r\n\r\n    let newUser;\r\n    if (users.every((item) => item._id !== user._id)) {\r\n      newUser = {\r\n        ...user,\r\n        followers: DeleteData(user.followers, auth.user._id),\r\n      };\r\n    } else {\r\n      users.forEach((item) => {\r\n        if (item._id === user._id) {\r\n          newUser = {\r\n            ...item,\r\n            followers: DeleteData(item.followers, auth.user._id),\r\n          };\r\n        }\r\n      });\r\n    }\r\n  \r\n  dispatch({ type: PROFILE_TYPES.UNFOLLOW, payload: newUser });\r\n\r\n  dispatch({\r\n    type: GLOBALTYPES.AUTH,\r\n    payload: {\r\n      ...auth,\r\n      user: {\r\n        ...auth.user,\r\n        following: DeleteData(auth.user.following, newUser._id)\r\n      },\r\n    },\r\n  });\r\n\r\n  \r\n\r\n  try {\r\n    const res = await patchDataAPI(\r\n      `/user/${user._id}/unfollow`,\r\n      null,\r\n      auth.token\r\n    );\r\n\r\n    // todo socket\r\n    socket.emit(\"unFollow\", res.data.newUser);\r\n\r\n    // todo notification\r\n    const msg = {\r\n      id: auth.user._id,\r\n      text: \"started following you\",\r\n      recipients: [newUser._id],\r\n      url: `/profile/${auth.user._id}`,\r\n    };\r\n\r\n    dispatch(removeNotify({ msg, auth, socket }));\r\n    \r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg },\r\n    });\r\n  }\r\n};","export const GLOBALTYPES = {\r\n  AUTH: \"AUTH\",\r\n  ALERT: \"ALERT\",\r\n  THEME: \"THEME\",\r\n  STATUS: \"STATUS\",\r\n  MODAL: \"MODAL\",\r\n  USER_TYPE: \"USER_TYPE\",\r\n  SOCKET: \"SOCKET\",\r\n};\r\n\r\nexport const EditData = (data, id, post) => {\r\n  const newData = data.map((item) => (item._id === id ? post : item));\r\n  return newData;\r\n};\r\n\r\nexport const DeleteData = (data, id) => {\r\n  const newData = data.filter((item) => item._id !== id);\r\n  return newData;\r\n};\r\n\r\n","import { GLOBALTYPES } from \"./globalTypes\";\r\nimport { postDataAPI, getDataAPI } from \"../../utils/fetchData\";\r\n\r\n\r\nexport const MESSAGE_TYPES = {\r\n  ADD_USER: \"ADD_USER\",\r\n  ADD_MESSAGE: \"ADD_MESSAGE\",\r\n  GET_CONVERSATIONS: \"GET_CONVERSATIONS\",\r\n  GET_MESSAGES: \"GET_MESSAGES\",\r\n};\r\n\r\nexport const addUser = ({ user, message }) => async (dispatch) => {\r\n    if(message.users.every(item => item._id !== user._id)){\r\n        dispatch({type: MESSAGE_TYPES.ADD_USER, payload: {...user, text: '', media: []} });\r\n    }\r\n};\r\n\r\nexport const addMessage = ({ msg, auth, socket }) => async (dispatch) => {\r\n\r\n  dispatch({type: MESSAGE_TYPES.ADD_MESSAGE, payload: msg});\r\n  socket.emit('addMessage', msg);\r\n\r\n  try {\r\n    await postDataAPI('message', msg, auth.token)\r\n  } catch (err) {\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg } });\r\n  }\r\n}\r\n\r\nexport const getConversations = ({auth, page = 1 }) => async (dispatch) => {\r\ntry {\r\n    const res = await getDataAPI(`conversations?limit=${page * 9}`, auth.token);\r\n    let newArr = [];\r\n    res.data.conversations.forEach(item => {\r\n      item.recipients.forEach(cv => {\r\n        if(cv._id !== auth.user._id){\r\n          newArr.push({...cv, text: item.text, media: item.media});\r\n        }\r\n      })\r\n    });\r\n\r\n    dispatch({ type: MESSAGE_TYPES.GET_CONVERSATIONS, payload: {newArr, result: res.data.result} });\r\n  } catch (err) {\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg } });\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\nexport const getMessages = ({ auth, id, page = 1 }) => async (dispatch) => {\r\n  try {\r\n    const res = await getDataAPI(`message/${id}?limit=${page * 9}`, auth.token);\r\n\r\n    dispatch({ type: MESSAGE_TYPES.GET_MESSAGES, payload: res.data });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg },\r\n    });\r\n  }\r\n};","const valid = ({ fullname, username, email, password, cf_password }) => {\r\n    const err = {};\r\n\r\n    if(!fullname){\r\n        err.fullname = \"Please add full name.\";\r\n    }else if(fullname.length > 25){\r\n        err.fullname = \"Full name must be smaller than 25 characters.\";\r\n    }\r\n\r\n    if (!username) {\r\n      err.username = \"Please add User name.\";\r\n    } else if (username.replace(/ /g, '').length > 25) {\r\n      err.username = \"User name must be smaller than 25 characters.\";\r\n    }\r\n\r\n    if (!email) {\r\n      err.email = \"Please add Email.\";\r\n    }\r\n\r\n    if (!password) {\r\n      err.password = \"Please add Password.\";\r\n    } else if (password.length < 6) {\r\n      err.password = \"Password must be al least 6 characters long.\";\r\n    }\r\n\r\n    if (password !== cf_password) {\r\n      err.cf_password = \"Password does not match.\";\r\n    }\r\n\r\n    return {\r\n        errMsg: err,\r\n        errLength: Object.keys(err).length  \r\n    }\r\n};\r\n\r\nexport default valid;","import { postDataAPI } from \"../../utils/fetchData\";\r\nimport { GLOBALTYPES } from \"./globalTypes\";\r\nimport valid from \"../../utils/valid\";\r\n\r\nexport const TYPES = {\r\n  AUTH: \"AUTH\",\r\n};\r\n\r\nexport const login = (data) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\r\n    const res = await postDataAPI(\"login\", data);\r\n\r\n    dispatch({\r\n      type: GLOBALTYPES.AUTH,\r\n      payload: { token: res.data.access_token, user: res.data.user },\r\n    });\r\n\r\n    dispatch({\r\n      type: GLOBALTYPES.USER_TYPE,\r\n      payload: res.data.user.role,\r\n    });\r\n\r\n    localStorage.setItem(\"firstLogin\", true);\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { success: res.data.msg } });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg },\r\n    });\r\n  }\r\n};\r\n\r\nexport const changePassword = ({oldPassword, newPassword, cnfNewPassword, auth}) => async (dispatch) => {\r\n\r\n  if(!oldPassword || oldPassword.length === 0){\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: \"Please enter your old  password.\" },\r\n    });\r\n  }\r\n  if(!newPassword || newPassword.length === 0){\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: \"Please enter your new  password.\" },\r\n    });\r\n  }\r\n  if(!cnfNewPassword || cnfNewPassword.length === 0){\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: \"Please confirm your new  password.\" },\r\n    });\r\n  }\r\n  if(newPassword !==cnfNewPassword){\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: \"Your password does not match\" },\r\n    });\r\n  }\r\n  \r\n  try {\r\n    \r\n    \r\n\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: {loading: true} });\r\n\r\n    const res = await postDataAPI('changePassword', {oldPassword, newPassword}, auth.token );\r\n\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: {loading: false} });\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { success: res.data.msg } });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg },\r\n    });\r\n  }\r\n};\r\n\r\nexport const adminLogin = (data) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\r\n    const res = await postDataAPI(\"admin_login\", data);\r\n\r\n    dispatch({\r\n      type: GLOBALTYPES.AUTH,\r\n      payload: { token: res.data.access_token, user: res.data.user },\r\n    });\r\n\r\n    dispatch({\r\n      type: GLOBALTYPES.USER_TYPE,\r\n      payload: res.data.user.role,\r\n    });\r\n\r\n    localStorage.setItem(\"firstLogin\", true);\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { success: res.data.msg } });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg },\r\n    });\r\n  }\r\n};\r\n\r\nexport const refreshToken = () => async (dispatch) => {\r\n  const firstLogin = localStorage.getItem(\"firstLogin\");\r\n  if (firstLogin) {\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\r\n    try {\r\n      const res = await postDataAPI(\"refresh_token\");\r\n      dispatch({\r\n        type: GLOBALTYPES.AUTH,\r\n        payload: { token: res.data.access_token, user: res.data.user },\r\n      });\r\n\r\n      dispatch({\r\n        type: GLOBALTYPES.USER_TYPE,\r\n        payload: res.data.user.role,\r\n      });\r\n\r\n      dispatch({ type: GLOBALTYPES.ALERT, payload: {} });\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err.response.data.msg },\r\n      });\r\n    }\r\n  }\r\n};\r\n\r\nexport const register = (data) => async (dispatch) => {\r\n  const check = valid(data);\r\n  if (check.errLength > 0) {\r\n    return dispatch({ type: GLOBALTYPES.ALERT, payload: check.errMsg });\r\n  }\r\n\r\n  try {\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\r\n\r\n    const res = await postDataAPI(\"register\", data);\r\n\r\n    dispatch({\r\n      type: GLOBALTYPES.AUTH,\r\n      payload: { token: res.data.access_token, user: res.data.user },\r\n    });\r\n\r\n    dispatch({\r\n      type: GLOBALTYPES.USER_TYPE,\r\n      payload: res.data.user.role,\r\n    });\r\n\r\n    localStorage.setItem(\"firstLogin\", true);\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { success: res.data.msg } });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg },\r\n    });\r\n  }\r\n};\r\n\r\nexport const registerAdmin = (data) => async (dispatch) => {\r\n  const check = valid(data);\r\n  if (check.errLength > 0) {\r\n    return dispatch({ type: GLOBALTYPES.ALERT, payload: check.errMsg });\r\n  }\r\n\r\n  try {\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\r\n\r\n    const res = await postDataAPI(\"register_admin\", data);\r\n\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { success: res.data.msg } });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg },\r\n    });\r\n  }\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n  try {\r\n    localStorage.removeItem(\"firstLogin\");\r\n\r\n    await postDataAPI(\"logout\");\r\n    window.location.href = \"/\";\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg },\r\n    });\r\n  }\r\n};\r\n","export const imageShow = (src, theme) => {\r\n  return (\r\n    <img\r\n      src={src}\r\n      className=\"img-thumbnail\"\r\n      alt=\"uploaded pics\"\r\n      style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\r\n    />\r\n  );\r\n};\r\n\r\nexport const videoShow = (src, theme) => {\r\n  return (\r\n    <video\r\n      controls\r\n      src={src}\r\n      className=\"img-thumbnail\"\r\n      alt=\"uploaded pics\"\r\n      style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\r\n    />\r\n  );\r\n};\r\n","import { GLOBALTYPES } from '../actions/globalTypes';\r\nimport { getDataAPI } from '../../utils/fetchData';\r\n\r\n\r\nexport const SUGGEST_TYPES = {\r\n  LOADING: \"LOADING_SUGGESTIONS\",\r\n  GET_USERS: \"GET_USERS_SUGGESTIONS\",\r\n};\r\n\r\n\r\nexport const getSuggestions = (token) => async dispatch => {\r\n    try {\r\n        dispatch({type: SUGGEST_TYPES.LOADING, payload: true });\r\n\r\n        const res = await getDataAPI(`suggestionsUser`, token);\r\n        \r\n        dispatch({ type: SUGGEST_TYPES.GET_USERS, payload: res.data });\r\n\r\n        dispatch({type: SUGGEST_TYPES.LOADING, payload: false });\r\n        \r\n    } catch (err) {\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg} });\r\n    }\r\n}","export const checkImage = (file) => {\r\n    let err = \"\";\r\n    if(!file){\r\n        return err = \"File does not exist.\";\r\n    }\r\n//?1 mb\r\n    if(file.size > 1024 * 1024){\r\n         return (err = \"File size must be less than 1 Mb.\");\r\n    }\r\n\r\n    if (file.type !== 'image/jpeg' && file.type !== 'image/png') {\r\n      return (err = \"Image must be jpeg or png.\");\r\n    }\r\n\r\n    return err;\r\n}\r\n\r\nexport const imageUpload = async (images) => {\r\n    let imgArr = [];\r\n    for(const item of images){\r\n        const formData = new FormData();\r\n\r\n        if(item.camera){\r\n            formData.append(\"file\", item.camera);\r\n        }else{\r\n            formData.append(\"file\", item);  \r\n        }\r\n\r\n        \r\n        formData.append(\"upload_preset\", \"j3njz9ar\");\r\n        formData.append(\"cloud_name\", \"dtzvrqena\");\r\n\r\n        const res = await fetch(\"https://api.cloudinary.com/v1_1/dtzvrqena/image/upload\", {\r\n            method: \"POST\",\r\n            body: formData\r\n        })\r\n\r\n        const data = await res.json();\r\n        imgArr.push({ public_id: data.public_id, url: data.secure_url });\r\n        \r\n      \r\n    }\r\n    return imgArr;\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { follow, unfollow } from \"../redux/actions/profileAction\";\r\n\r\nconst FollowBtn = ({user}) => {\r\n    const [ followed, setFollowed ] = useState(false);\r\n\r\n    const { auth, profile, socket } = useSelector(state => state);\r\n    const dispatch = useDispatch();\r\n\r\n    const [load, setLoad] = useState(false);\r\n\r\n    useEffect(() => {\r\n      if (auth.user.following.find((item) => item._id === user._id)) {\r\n        setFollowed(true);\r\n      }\r\n      return () => setFollowed(false);\r\n    }, [auth.user.following, user._id]);\r\n\r\n    const handleFollow = async () => {\r\n        if(load) return;\r\n\r\n        setFollowed(true);\r\n        setLoad(true);\r\n        await dispatch(follow({ users: profile.users, user, auth, socket }));\r\n        setLoad(false);\r\n    };\r\n\r\n    const handleUnFollow = async () => {\r\n      if (load) return;\r\n\r\n      setFollowed(false);\r\n      setLoad(true);\r\n      await dispatch(unfollow({ users: profile.users, user, auth, socket }));\r\n      setLoad(false);\r\n    };\r\n\r\n\r\n    return (\r\n      <>\r\n        {followed ? (\r\n          <button className=\"btn-1 hover-in-shadow outer-shadow\" onClick={handleUnFollow}>\r\n            Unfollow\r\n          </button>\r\n        ) : (\r\n          <button className=\"btn-1 hover-in-shadow outer-shadow\" onClick={handleFollow}>\r\n            Follow\r\n          </button>\r\n        )}\r\n      </>\r\n    );\r\n}\r\n\r\nexport default FollowBtn\r\n","import React from 'react'\r\n\r\nconst LoadMoreBtn = ({ result, page, load, handleLoadMore }) => {\r\n  return (\r\n    <>\r\n      {result < 9 * (page - 1)\r\n        ? \"\"\r\n        : !load && (\r\n            <button\r\n              className=\"btn  btn-outline-info color-c1 mx-auto d-block\"\r\n              onClick={handleLoadMore}\r\n            >\r\n              Load more.\r\n            </button>\r\n          )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LoadMoreBtn\r\n","import { GLOBALTYPES } from './globalTypes';\r\nimport { getDataAPI } from '../../utils/fetchData';\r\n\r\nexport const DISCOVER_TYPES = {\r\n    LOADING: 'LOADING_DISCOVER',\r\n    GET_POSTS: 'GET_DISCOVER_POSTS',\r\n    UPDATE_POSTS: 'UPDATE_DISCOVER_POSTS',\r\n\r\n}\r\n\r\nexport const getDiscoverPosts = (token) => async (dispatch) => {\r\n    try {\r\n        dispatch({type: DISCOVER_TYPES.LOADING, payload: true });\r\n\r\n        const res = await getDataAPI(`post_discover`, token);\r\n        \r\n        dispatch({ type: DISCOVER_TYPES.GET_POSTS, payload: res.data });\r\n\r\n        dispatch({type: DISCOVER_TYPES.LOADING, payload: false });\r\n\r\n    } catch (err) {\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg} });\r\n    }\r\n} \r\n\r\n\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getDataAPI } from \"../../utils/fetchData\";\r\nimport { GLOBALTYPES } from \"../../redux/actions/globalTypes\";\r\n// import { Link } from \"react-router-dom\";\r\nimport UserCard from \"../UserCard\";\r\nimport LoadIcon from \"../../images/loading.gif\";\r\n\r\nconst Search = () => {\r\n  const [search, setSearch] = useState(\"\");\r\n  const [users, setUsers] = useState([]);\r\n\r\n  const { auth } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  const [load, setLoad] = useState(false);\r\n\r\n  const handleSearch = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!search) return;\r\n\r\n    try {\r\n      setLoad(true);\r\n      const res = await getDataAPI(`search?username=${search}`, auth.token);\r\n      setUsers(res.data.users);\r\n      setLoad(false);\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err.response.data.msg },\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setSearch(\"\");\r\n    setUsers([]);\r\n  };\r\n\r\n  return (\r\n    <form className=\"search_form\" onSubmit={handleSearch}>\r\n      <input\r\n        type=\"text\"\r\n        title=\"Enter to Search\"\r\n        name=\"search\"\r\n        value={search}\r\n        id=\"search\"\r\n        placeholder=\"Enter Username\"\r\n        onChange={(e) =>\r\n          setSearch(e.target.value.toLowerCase().replace(/ /g, \" \"))\r\n        }\r\n      />\r\n      {/* <div className=\"search_icon\" style={{ opacity: search ? 0 : 0.3 }}>\r\n        <span className=\"material-icons\">search</span>\r\n        <span>Enter to Search</span>\r\n      </div> */}\r\n\r\n      <div\r\n        onClick={handleClose}\r\n        className=\"close_search\"\r\n        style={{ opacity: users.length === 0 ? 0 : 1 }}\r\n      >\r\n        &times;\r\n      </div>\r\n\r\n      <button type=\"submit\" style={{ display: \"none\" }}>\r\n        Search\r\n      </button>\r\n\r\n      {load && <img className=\"loading\" src={LoadIcon} alt=\"Loading\" />}\r\n\r\n      <div className=\"users\">\r\n        {search &&\r\n          users.map((user) => (\r\n            <UserCard\r\n              key={user._id}\r\n              user={user}\r\n              border=\"border\"\r\n              handleClose={handleClose}\r\n            />\r\n          ))}\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import React from \"react\";\r\nimport \"emoji-mart/css/emoji-mart.css\";\r\nimport { Picker } from \"emoji-mart\";\r\nconst Icons = ({ setContent, content, theme }) => {\r\n  return (\r\n    <div\r\n      className=\"nav-item dropdown\"\r\n      style={{\r\n        opacity: \"1\",\r\n        zIndex: \"10\",\r\n        filter: theme ? \"invert(1)\" : \"invert(0)\",\r\n      }}\r\n    >\r\n      <span\r\n        className=\"nav-link position-relative px-1\"\r\n        id=\"navbarDropdown\"\r\n        role=\"button\"\r\n        data-bs-toggle=\"dropdown\"\r\n        aria-expanded=\"false\"\r\n      >\r\n        <span>😏</span>\r\n      </span>\r\n      <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\r\n        <Picker\r\n          theme={theme ? \"dark\" : \"light\"}\r\n          showSkinTones=\"true\"\r\n          showPreview=\"false\"\r\n          onSelect={(emoji) => setContent(content + emoji.native)}\r\n          i18n={{\r\n            search: \"Search\",\r\n            clear: \"Clear\", // Accessible label on \"clear\" button\r\n            notfound: \"No Emoji Found\",\r\n            skintext: \"Choose your default skin tone\",\r\n            categories: {\r\n              search: \"Search Results\",\r\n              recent: \"Frequently Used\",\r\n              smileys: \"Smileys & Emotion\",\r\n              people: \"People & Body\",\r\n              nature: \"Animals & Nature\",\r\n              foods: \"Food & Drink\",\r\n              activity: \"Activity\",\r\n              places: \"Travel & Places\",\r\n              objects: \"Objects\",\r\n              symbols: \"Symbols\",\r\n              flags: \"Flags\",\r\n              custom: \"Custom\",\r\n            },\r\n            categorieslabel: \"Emoji categories\", // Accessible title for the list of categories\r\n            skintones: {\r\n              1: \"Default Skin Tone\",\r\n              2: \"Light Skin Tone\",\r\n              3: \"Medium-Light Skin Tone\",\r\n              4: \"Medium Skin Tone\",\r\n              5: \"Medium-Dark Skin Tone\",\r\n              6: \"Dark Skin Tone\",\r\n            },\r\n          }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Icons;\r\n","import React from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { imageShow, videoShow } from \"../utils/mediaShow\";\r\n\r\nconst PostThumb = ({ posts, result }) => {\r\n  const { theme } = useSelector((state) => state);\r\n\r\n  if (result === 0 ){\r\n    return <h2 className=\"text-center color-c1\">No Post</h2>\r\n  }\r\n\r\n    const imageShow = (src) => {\r\n      return (\r\n        <img\r\n          src={src}\r\n          alt={src}\r\n          style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\r\n        />\r\n      );\r\n    };\r\n\r\n    const videoShow = (src) => {\r\n      return (\r\n        <video\r\n          controls\r\n          src={src}\r\n          alt={src}\r\n          style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\r\n        />\r\n      );\r\n    };\r\n    return (\r\n      <div className=\"post_thumb\">\r\n        {posts && posts.map((post) => (\r\n          <Link to={`/post/${post._id}`} key={post._id}>\r\n            <div className=\"post_thumb_display\">\r\n              {post.images[0].url.match(/video/i)\r\n                ? videoShow(post.images[0].url, theme)\r\n                : imageShow(post.images[0].url, theme)\r\n              }\r\n\r\n\r\n              <div className=\"post_thumb_menu\">\r\n                <i className=\"far fa-thumbs-up\">{post.likes.length}</i>\r\n                <i className=\"far fa-comments\">{post.comments.length}</i>\r\n              </div>\r\n            </div>\r\n          </Link>\r\n        ))}\r\n      </div>\r\n    );\r\n};\r\n\r\nexport default PostThumb\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { adminLogin, login } from \"../redux/actions/authAction\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nconst Login = () => {\r\n  const initialState = { email: \"\", password: \"\" };\r\n  const [userData, setUserData] = useState(initialState);\r\n  const [userType, setUserType] = useState(false);\r\n  const { email, password } = userData;\r\n\r\n  const [typePass, setTypePass] = useState(false);\r\n\r\n  const { auth } = useSelector((state) => state);\r\n\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    if (auth.token) history.push(\"/\");\r\n  }, [auth.token, history]);\r\n\r\n  const handleChangeInput = (e) => {\r\n    const { name, value } = e.target;\r\n    setUserData({ ...userData, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (!userType) {\r\n      dispatch(login(userData));\r\n    } else {\r\n      dispatch(adminLogin(userData));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"auth_page\">\r\n      <form onSubmit={handleSubmit} className=\"inner-shadow\">\r\n        <h3 className=\"text-uppercase text-center mb-4 auth-heading \">\r\n          Acro Connect\r\n        </h3>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">\r\n            Email address\r\n          </label>\r\n          <div className=\"outer-shadow hover-in-shadow form-input-wrap\">\r\n            <input\r\n              type=\"email\"\r\n              className=\"form-control \"\r\n              id=\"exampleInputEmail1\"\r\n              aria-describedby=\"emailHelp\"\r\n              onChange={handleChangeInput}\r\n              value={email}\r\n              name=\"email\"\r\n            />\r\n          </div>\r\n          <div id=\"emailHelp\" className=\"form-text\">\r\n            We'll never share your email with anyone else.\r\n          </div>\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"exampleInputPassword1\" className=\"form-label\">\r\n            Password\r\n          </label>\r\n          <div className=\"pass\">\r\n            <div className=\"outer-shadow hover-in-shadow form-input-wrap\">\r\n              <input\r\n                type={typePass ? \"text\" : \"password\"}\r\n                className=\"form-control\"\r\n                id=\"exampleInputPassword1\"\r\n                onChange={handleChangeInput}\r\n                value={password}\r\n                name=\"password\"\r\n              />\r\n              <small onClick={() => setTypePass(!typePass)}>\r\n                {typePass ? \"Hide\" : \"Show\"}\r\n              </small>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"d-flex justify-content-evenly  mx-0 mb-4\">\r\n          <label htmlFor=\"User\">\r\n            User:\r\n            <input\r\n              type=\"radio\"\r\n              id=\"User\"\r\n              name=\"gender\"\r\n              value={userType}\r\n              defaultChecked\r\n              onClick={() => setUserType(false)}\r\n            />\r\n          </label>\r\n\r\n          <label htmlFor=\"Admin\">\r\n            Admin:\r\n            <input\r\n              type=\"radio\"\r\n              id=\"Admin\"\r\n              name=\"gender\"\r\n              value={userType}\r\n              onClick={() => setUserType(true)}\r\n            />\r\n          </label>\r\n        </div>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          className=\"btn-1 w-100 d-flex outer-shadow hover-in-shadow justify-content-center\"\r\n          disabled={email && password ? false : true}\r\n        >\r\n          Login\r\n        </button>\r\n        <p className=\"my-2\">\r\n          Don't have an account?{\" \"}\r\n          <Link to=\"/register\" style={{ color: \"crimson\" }}>\r\n            Register Now.\r\n          </Link>\r\n        </p>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React, { useState, useEffect} from 'react';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport { register } from '../redux/actions/authAction';\r\n\r\nconst Register = () => {\r\n    const {auth, alert} = useSelector(state => state);\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n\r\n     const initialState = { fullname: \"\", username: \"\", email: \"\", password: \"\", cf_password: \"\", gender: \"male\" };\r\n     const [userData, setUserData] = useState(initialState);\r\n     const { fullname, username, email, password, cf_password } = userData;\r\n\r\n     const [typePass, setTypePass] = useState(false);\r\n     const [typeCfPass, setTypeCfPass] = useState(false);\r\n\r\n    useEffect(() => {\r\n      if (auth.token) history.push(\"/\");\r\n    }, [auth.token, history]);\r\n\r\n   \r\n\r\n    \r\n\r\n    const handleChangeInput = (e) => {\r\n      const { name, value } = e.target;\r\n      setUserData({ ...userData, [name]: value });\r\n    };\r\n\r\n    const handleSubmit = (e) => {\r\n      e.preventDefault();\r\n      dispatch(register(userData));\r\n    };\r\n\r\n    return (\r\n      <div className=\"auth_page\">\r\n        <form onSubmit={handleSubmit} className=\"inner-shadow\">\r\n          <h3 className=\"text-uppercase text-center mb-4 auth-heading\">\r\n            Acro Connect\r\n          </h3>\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"fullname\" className=\"form-label\">\r\n              Full name\r\n            </label>\r\n            <div className=\"outer-shadow hover-in-shadow form-input-wrap\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                id=\"fullname\"\r\n                onChange={handleChangeInput}\r\n                value={fullname}\r\n                name=\"fullname\"\r\n                style={{ background: `${alert.fullname ? \"#fd2d6a14\" : \"\"} ` }}\r\n              />\r\n            </div>\r\n            <small className=\"form-text text-danger\">\r\n              {alert.fullname ? alert.fullname : \"\"}\r\n            </small>\r\n          </div>\r\n\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"username\" className=\"form-label\">\r\n              User name\r\n            </label>\r\n            <div className=\"outer-shadow hover-in-shadow form-input-wrap\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                id=\"username\"\r\n                onChange={handleChangeInput}\r\n                value={username.toLowerCase().replace(/ /g, \"\")}\r\n                name=\"username\"\r\n                style={{ background: `${alert.username ? \"#fd2d6a14\" : \"\"} ` }}\r\n              />\r\n            </div>\r\n            <small className=\"form-text text-danger\">\r\n              {alert.username ? alert.username : \"\"}\r\n            </small>\r\n          </div>\r\n\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"email\" className=\"form-label\">\r\n              Email address\r\n            </label>\r\n            <div className=\"outer-shadow hover-in-shadow form-input-wrap\">\r\n              <input\r\n                type=\"email\"\r\n                className=\"form-control\"\r\n                id=\"email\"\r\n                aria-describedby=\"emailHelp\"\r\n                onChange={handleChangeInput}\r\n                value={email}\r\n                name=\"email\"\r\n                style={{ background: `${alert.email ? \"#fd2d6a14\" : \"\"} ` }}\r\n              />\r\n            </div>\r\n            <small className=\"form-text text-danger\">\r\n              {alert.email ? alert.email : \"\"}\r\n            </small>\r\n          </div>\r\n\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"password\" className=\"form-label\">\r\n              Password\r\n            </label>\r\n            <div className=\"pass\">\r\n              <div className=\"outer-shadow hover-in-shadow form-input-wrap\">\r\n                <input\r\n                  type={typePass ? \"text\" : \"password\"}\r\n                  className=\"form-control\"\r\n                  id=\"password\"\r\n                  onChange={handleChangeInput}\r\n                  value={password}\r\n                  name=\"password\"\r\n                  style={{\r\n                    background: `${alert.password ? \"#fd2d6a14\" : \"\"} `,\r\n                  }}\r\n                />\r\n                <small onClick={() => setTypePass(!typePass)}>\r\n                  {typePass ? \"Hide\" : \"Show\"}\r\n                </small>\r\n              </div>\r\n            </div>\r\n            <small className=\"form-text text-danger\">\r\n              {alert.password ? alert.password : \"\"}\r\n            </small>\r\n          </div>\r\n\r\n          <div className=\"mb-3\">\r\n            <label htmlFor=\"cf_password\" className=\"form-label\">\r\n              Confirm Password\r\n            </label>\r\n            <div className=\"pass\">\r\n              <div className=\"outer-shadow hover-in-shadow form-input-wrap\">\r\n                <input\r\n                  type={typeCfPass ? \"text\" : \"password\"}\r\n                  className=\"form-control\"\r\n                  id=\"cf_password\"\r\n                  onChange={handleChangeInput}\r\n                  value={cf_password}\r\n                  name=\"cf_password\"\r\n                  style={{\r\n                    background: `${alert.cf_password ? \"#fd2d6a14\" : \"\"} `,\r\n                  }}\r\n                />\r\n                <small onClick={() => setTypeCfPass(!typeCfPass)}>\r\n                  {typeCfPass ? \"Hide\" : \"Show\"}\r\n                </small>\r\n              </div>\r\n            </div>\r\n            <small className=\"form-text text-danger\">\r\n              {alert.cf_password ? alert.cf_password : \"\"}\r\n            </small>\r\n          </div>\r\n\r\n          <div className=\"d-flex justify-content-evenly  mx-0 mb-1\">\r\n            <label htmlFor=\"male\">\r\n              Male:\r\n              <input\r\n                type=\"radio\"\r\n                id=\"male\"\r\n                name=\"gender\"\r\n                value=\"male\"\r\n                defaultChecked\r\n                onChange={handleChangeInput}\r\n              />\r\n            </label>\r\n\r\n            <label htmlFor=\"female\">\r\n              Female:\r\n              <input\r\n                type=\"radio\"\r\n                id=\"female\"\r\n                name=\"gender\"\r\n                value=\"female\"\r\n                onChange={handleChangeInput}\r\n              />\r\n            </label>\r\n          </div>\r\n\r\n          <button\r\n            type=\"submit\"\r\n            className=\"btn-1 w-100 d-flex outer-shadow hover-in-shadow justify-content-center\"\r\n          >\r\n            Register\r\n          </button>\r\n          <p className=\"my-2\">\r\n            Already have an account?{\" \"}\r\n            <Link to=\"/\" style={{ color: \"crimson\" }}>\r\n              Login Now.\r\n            </Link>\r\n          </p>\r\n        </form>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Register;\r\n","import React from 'react'\r\nimport LeftSide from '../../components/message/LeftSide'\r\n\r\nconst Message = () => {\r\n    return (\r\n      <div className=\"message d-flex\">\r\n        <div className=\"col-md-4 px-0\" style={{borderRight: '1px solid #ddd'}}>\r\n          <LeftSide />\r\n        </div>\r\n\r\n        <div className=\"col-md-8 px-0\">\r\n          <div className=\"d-flex justify-content-center align-items-center flex-column h-100\">\r\n            <i className=\"fa fa-bolt color-c1\" style={{fontSize: '5rem'}} />  \r\n            <h4>Messenger</h4>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Message\r\n","import React, { useState, useEffect} from 'react';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getDiscoverPosts, DISCOVER_TYPES } from \"../redux/actions/discoverAction\";\r\nimport LoadIcon from '../images/loading.gif';\r\nimport PostThumb from \"../components/PostThumb\";\r\nimport LoadMoreBtn from '../components/LoadMoreBtn';\r\nimport { getDataAPI } from '../utils/fetchData';\r\n\r\nconst Discover = () => {\r\n    const { auth, discover } = useSelector(state => state);\r\n    const dispatch = useDispatch();\r\n\r\n    const [load, setLoad] = useState(false);\r\n\r\n    useEffect(() => {\r\n      if (!discover.firstLoad) {\r\n        dispatch(getDiscoverPosts(auth.token));\r\n      }\r\n    }, [dispatch, auth.token, discover.firstLoad]);\r\n\r\n    const handleLoadMore = async () => {\r\n        setLoad(true);\r\n        const res = await getDataAPI(`post_discover?num=${discover.page * 8}`, auth.token);\r\n        dispatch({ type: DISCOVER_TYPES.UPDATE_POSTS, payload: res.data });\r\n        setLoad(false);\r\n    };\r\n\r\n    return (\r\n      <div>\r\n        {discover.loading ? (\r\n          <img\r\n            src={LoadIcon}\r\n            alt=\"Loading...\"\r\n            className=\"d-block mx-auto my-4\"\r\n          />\r\n        ) : (\r\n            <PostThumb posts={discover.posts} result={discover.result} />\r\n          \r\n        )}\r\n\r\n        {load && (\r\n          <img src={LoadIcon} alt=\"Loading...\" className=\"d-block mx-auto\" />\r\n        )}\r\n\r\n        {!discover.loading && (\r\n          <LoadMoreBtn\r\n            result={discover.result}\r\n            page={discover.page}\r\n            load={load}\r\n            handleLoadMore={handleLoadMore}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Discover;\r\n","import \"./Main.css\";\r\nimport { useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport Posts from \"../../home/Posts\";\r\nimport Discover from \"../../../pages/discover\";\r\nimport LoadIcon from '../../../images/loading.gif'\r\nimport Search from \"../../header/Search\";\r\nimport { GLOBALTYPES } from '../../../redux/actions/globalTypes'\r\n// import Chart from \"../charts/Chart\";\r\nimport {\r\n  getTotalUsers,\r\n  getTotalPosts,\r\n  getTotalComments,\r\n  getTotalLikes,\r\n  getTotalActiveUsers,\r\n  getTotalSpamPosts,\r\n} from \"../../../redux/actions/adminAction\";\r\n\r\n\r\nconst Main = () => {\r\n    const { auth, admin, socket,homePosts } = useSelector((state) => state);\r\n    const dispatch = useDispatch();\r\n    const mystyle = {\r\n      // className=\"btn-1 hover-in-shadow outer-shadow\"\r\n      // color: \"white\",\r\n      // backgroundColor: \"DodgerBlue\",\r\n      // paddingLeft: \"20px\",\r\n      // fontFamily: \"Arial\"\r\n      // textDecoration : \"none\",\r\n      // width:\"100px\"\r\n      \r\n    };\r\n    useEffect(() => {\r\n      dispatch(getTotalUsers(auth.token));\r\n      dispatch(getTotalPosts(auth.token));\r\n      dispatch(getTotalComments(auth.token));\r\n      dispatch(getTotalLikes(auth.token));\r\n      dispatch(getTotalSpamPosts(auth.token));\r\n      dispatch(getTotalActiveUsers({ auth, socket }));\r\n    }, [dispatch, auth.token, socket, auth]);\r\n  return (\r\n    <div className=\"main_admin\">\r\n      <div className=\"main__container\">\r\n        {/* <!-- MAIN TITLE STARTS HERE --> */}\r\n\r\n        <div className=\"main__title\" >\r\n          <div className=\"main__greeting\">\r\n            <h1>Hello {auth.user.username}</h1>\r\n            <p>Welcome to your Admin Dashboard</p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* <!-- MAIN TITLE ENDS HERE --> */}\r\n\r\n        {/* <!-- MAIN CARDS STARTS HERE --> */}\r\n        <div className=\"main__cards\" style={mystyle}>\r\n          <div className=\"card_admin\">\r\n            <i\r\n              className=\"fa fa-users fa-2x text-lightblue\"\r\n              aria-hidden=\"true\"\r\n            ></i>\r\n            <div className=\"card_inner_admin\">\r\n              <p className=\"text-primary-p\">Total Users</p>\r\n              <span className=\"font-bold text-title\">{admin.total_users}</span>\r\n            </div>\r\n          </div>\r\n\r\n          {/* <div className=\"card_admin\">\r\n            <i className=\"fa fa-comments fa-2x text-red\" aria-hidden=\"true\"></i>\r\n            <div className=\"card_inner_admin\">\r\n              <p className=\"text-primary-p\">Total Comments</p>\r\n              <span className=\"font-bold text-title\">\r\n                {admin.total_comments}\r\n              </span>\r\n            </div>\r\n          </div> */}\r\n\r\n          <div className=\"card_admin\">\r\n            <i\r\n              className=\"fa fa-camera fa-2x text-yellow\"\r\n              aria-hidden=\"true\"\r\n            ></i>\r\n            <div className=\"card_inner_admin\">\r\n              <p className=\"text-primary-p\">Total Posts</p>\r\n              <span className=\"font-bold text-title\">{admin.total_posts}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"card_admin\">\r\n            <i className=\"fa fa-ban fa-2x text-red\" aria-hidden=\"true\"></i>\r\n            <div className=\"card_inner_admin\">\r\n              <p className=\"text-primary-p\">Reported Posts</p>\r\n              <span className=\"font-bold text-title\">{admin.total_spam_posts}</span>\r\n            </div>\r\n          </div>\r\n\r\n          {/* <div className=\"card_admin\">\r\n            <i\r\n              className=\"fa fa-thumbs-up fa-2x text-green\"\r\n              aria-hidden=\"true\"\r\n            ></i>\r\n            <div className=\"card_inner_admin\">\r\n              <p className=\"text-primary-p\">Total Likes</p>\r\n              <span className=\"font-bold text-title\">{admin.total_likes}</span>\r\n            </div>\r\n          </div> */}\r\n\r\n          <div className=\"card_admin\">\r\n            <i\r\n              className=\"fa fa-search fa-2x  text-green\"\r\n              aria-hidden=\"true\"\r\n            ></i>\r\n              <Search/>\r\n            \r\n\r\n          </div>\r\n        </div>\r\n        <button\r\n          onClick={() => dispatch({ type: GLOBALTYPES.STATUS, payload: true })}\r\n          className=\"btn-1 outer-shadow hover-in-shadow statusBtn flex-fill \"\r\n          style={{ marginLeft: \"7px\" , width:\"500px\"}}\r\n        >\r\n          <span style={{ textShadow: \"var(--outer-shadow)\" }}>\r\n            {/* {auth.user.username}, What's on your mind? */}\r\n            POST\r\n          </span>\r\n        </button>\r\n        <h5\r\n            className=\"color-c5\"\r\n            style={{ textShadow: \"var(--outer-shadow)\" }}\r\n          >\r\n            My Posts :\r\n          </h5>\r\n          {homePosts.loading ? (\r\n            <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto\" />\r\n          ) : (homePosts.result === 0 ? <h2 className=\"text-center\">You Have Not Posted Anything</h2> :<Posts />\r\n          )}\r\n        <h5\r\n            className=\"color-c5\"\r\n            style={{ textShadow: \"var(--outer-shadow)\" }}\r\n          >\r\n            Latest Posts :\r\n          </h5>\r\n        <Discover />\r\n\r\n        {/* <!-- MAIN CARDS ENDS HERE --> */}\r\n\r\n        {/* <!-- CHARTS STARTS HERE \r\n        <div className=\"charts\">\r\n          <div className=\"charts__left\">\r\n            <div className=\"charts__left__title\">\r\n              <div>\r\n                <h1>Daily Reports</h1>\r\n                <p>Cupertino, California, USA</p>\r\n              </div>\r\n              <i className=\"fa fa-usd\" aria-hidden=\"true\"></i>\r\n            </div>\r\n            <Chart />\r\n          </div>\r\n\r\n          <div className=\"charts__right\">\r\n            <div className=\"charts__right__title\">\r\n              <div>\r\n                <h1>Stats Reports</h1>\r\n                <p>Cupertino, California, USA</p>\r\n              </div>\r\n              <i className=\"fa fa-usd\" aria-hidden=\"true\"></i>\r\n            </div>\r\n\r\n            <div className=\"charts__right__cards\">\r\n              <div className=\"card1\">\r\n                <h1>Income</h1>\r\n                <p>$75,300</p>\r\n              </div>\r\n\r\n              <div className=\"card2\">\r\n                <h1>Sales</h1>\r\n                <p>$124,200</p>\r\n              </div>\r\n\r\n              <div className=\"card3\">\r\n                <h1>Users</h1>\r\n                <p>3900</p>\r\n              </div>\r\n\r\n              <div className=\"card4\">\r\n                <h1>Orders</h1>\r\n                <p>1881</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        CHARTS ENDS HERE --> */}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { registerAdmin } from \"../../../redux/actions/authAction\";\r\n\r\nconst RegisterAdmin = () => {\r\n  const { auth, alert } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const initialState = {\r\n    fullname: \"\",\r\n    username: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    cf_password: \"\",\r\n    gender: \"male\"\r\n  };\r\n  const [userData, setUserData] = useState(initialState);\r\n  const { fullname, username, email, password, cf_password } = userData;\r\n\r\n  const [typePass, setTypePass] = useState(false);\r\n  const [typeCfPass, setTypeCfPass] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (auth.token) history.push(\"/\");\r\n  }, [auth.token, history]);\r\n\r\n  const handleChangeInput = (e) => {\r\n    const { name, value } = e.target;\r\n    setUserData({ ...userData, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    userData.role = \"admin\";\r\n    dispatch(registerAdmin(userData));\r\n    setUserData(initialState);\r\n  };\r\n\r\n  return (\r\n    <div className=\"auth_page\">\r\n      <form onSubmit={handleSubmit} className=\"inner-shadow\">\r\n        <h3 className=\"text-uppercase text-center mb-4 auth-heading\">\r\n          Acro Connect\r\n        </h3>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"fullname\" className=\"form-label\">\r\n            Full name\r\n          </label>\r\n          <div className=\"outer-shadow hover-in-shadow form-input-wrap\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"fullname\"\r\n              onChange={handleChangeInput}\r\n              value={fullname}\r\n              name=\"fullname\"\r\n              style={{ background: `${alert.fullname ? \"#fd2d6a14\" : \"\"} ` }}\r\n            />\r\n          </div>\r\n          <small className=\"form-text text-danger\">\r\n            {alert.fullname ? alert.fullname : \"\"}\r\n          </small>\r\n        </div>\r\n\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"username\" className=\"form-label\">\r\n            User name\r\n          </label>\r\n          <div className=\"outer-shadow hover-in-shadow form-input-wrap\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"username\"\r\n              onChange={handleChangeInput}\r\n              value={username.toLowerCase().replace(/ /g, \"\")}\r\n              name=\"username\"\r\n              style={{ background: `${alert.username ? \"#fd2d6a14\" : \"\"} ` }}\r\n            />\r\n          </div>\r\n          <small className=\"form-text text-danger\">\r\n            {alert.username ? alert.username : \"\"}\r\n          </small>\r\n        </div>\r\n\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"email\" className=\"form-label\">\r\n            Email address\r\n          </label>\r\n          <div className=\"outer-shadow hover-in-shadow form-input-wrap\">\r\n            <input\r\n              type=\"email\"\r\n              className=\"form-control\"\r\n              id=\"email\"\r\n              aria-describedby=\"emailHelp\"\r\n              onChange={handleChangeInput}\r\n              value={email}\r\n              name=\"email\"\r\n              style={{ background: `${alert.email ? \"#fd2d6a14\" : \"\"} ` }}\r\n            />\r\n          </div>\r\n          <small className=\"form-text text-danger\">\r\n            {alert.email ? alert.email : \"\"}\r\n          </small>\r\n        </div>\r\n\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"password\" className=\"form-label\">\r\n            Password\r\n          </label>\r\n          <div className=\"pass\">\r\n            <div className=\"outer-shadow hover-in-shadow form-input-wrap\">\r\n              <input\r\n                type={typePass ? \"text\" : \"password\"}\r\n                className=\"form-control\"\r\n                id=\"password\"\r\n                onChange={handleChangeInput}\r\n                value={password}\r\n                name=\"password\"\r\n                style={{ background: `${alert.password ? \"#fd2d6a14\" : \"\"} ` }}\r\n              />\r\n              <small onClick={() => setTypePass(!typePass)}>\r\n                {typePass ? \"Hide\" : \"Show\"}\r\n              </small>\r\n            </div>\r\n          </div>\r\n          <small className=\"form-text text-danger\">\r\n            {alert.password ? alert.password : \"\"}\r\n          </small>\r\n        </div>\r\n\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"cf_password\" className=\"form-label\">\r\n            Confirm Password\r\n          </label>\r\n          <div className=\"pass\">\r\n            <div className=\"outer-shadow hover-in-shadow form-input-wrap\">\r\n              <input\r\n                type={typeCfPass ? \"text\" : \"password\"}\r\n                className=\"form-control\"\r\n                id=\"cf_password\"\r\n                onChange={handleChangeInput}\r\n                value={cf_password}\r\n                name=\"cf_password\"\r\n                style={{\r\n                  background: `${alert.cf_password ? \"#fd2d6a14\" : \"\"} `,\r\n                }}\r\n              />\r\n              <small onClick={() => setTypeCfPass(!typeCfPass)}>\r\n                {typeCfPass ? \"Hide\" : \"Show\"}\r\n              </small>\r\n            </div>\r\n          </div>\r\n          <small className=\"form-text text-danger\">\r\n            {alert.cf_password ? alert.cf_password : \"\"}\r\n          </small>\r\n        </div>\r\n\r\n        <div className=\"d-flex justify-content-evenly  mx-0 mb-1\">\r\n          <label htmlFor=\"male\">\r\n            Male:\r\n            <input\r\n              type=\"radio\"\r\n              id=\"male\"\r\n              name=\"gender\"\r\n              value=\"male\"\r\n              defaultChecked\r\n              onChange={handleChangeInput}\r\n            />\r\n          </label>\r\n\r\n          <label htmlFor=\"female\">\r\n            Female:\r\n            <input\r\n              type=\"radio\"\r\n              id=\"female\"\r\n              name=\"gender\"\r\n              value=\"female\"\r\n              onChange={handleChangeInput}\r\n            />\r\n          </label>\r\n        </div>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          className=\"btn-1 w-100 d-flex outer-shadow hover-in-shadow justify-content-center\"\r\n        >\r\n          Register\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RegisterAdmin;\r\n","import React from 'react';\r\nimport \"../main/Main.css\";\r\nimport { useSelector } from \"react-redux\";\r\nimport RegisterAdmin from \"./RegisterAdmin\";\r\n\r\nconst AdminManagement = () => {\r\n        const { auth } = useSelector((state) => state);\r\n    return (\r\n      <div className=\"main_admin\">\r\n        <div className=\"main__container\">\r\n          <div className=\"main__title\">\r\n            <div className=\"main__greeting\">\r\n              <h1>Hello {auth.user.username}</h1>\r\n              <p>Welcome to your Admin Management</p>\r\n            </div>\r\n          </div>\r\n          <RegisterAdmin />\r\n        </div>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default AdminManagement\r\n","import React from 'react'\r\nimport Avatar from '../Avatar';\r\nimport { deleteSpamPost} from '../../redux/actions/adminAction'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport moment from 'moment';\r\nconst ContentList = ({content,theme}) => {\r\n      const { auth, socket } = useSelector((state) => state);\r\n        const dispatch = useDispatch();\r\n\r\n     const handleDeletePost = (post) => {\r\n       \r\n        dispatch(deleteSpamPost({ post, auth, socket }));\r\n       \r\n     };\r\n    return (\r\n      <div>\r\n        {content.length > 0 ? (\r\n          content.map((post) => (\r\n            <div className=\"admin_content_display\">\r\n              <span className=\"spam_report\">\r\n                Reports: {post.reports.length}\r\n              </span>\r\n\r\n              <div className=\"d-flex\">\r\n                <Avatar size=\"big-avatar\" src={post.user.avatar} />\r\n                <div className=\"d-flex flex-column ms-3\">\r\n                  <span className=\"spam_username\">{post.user.username}</span>\r\n                  <span className=\"spam_email\">{post.user.email}</span>\r\n                </div>\r\n                <span className=\"spam_time text-muted\">\r\n                  ~{moment(post.createdAt).fromNow()}\r\n                </span>\r\n              </div>\r\n              <div\r\n                className=\"ms-auto d-flex flex-column \"\r\n                style={{ cursor: \"pointer\" }}\r\n                onClick={() => handleDeletePost(post)}\r\n              >\r\n                <span className=\"material-icons\">delete</span>Remove\r\n              </div>\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <h1>Nothing to display</h1>\r\n        )}\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default ContentList\r\n","import React, { useEffect } from \"react\";\r\nimport \"./Spam.css\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport ContentList from \"../ContentList\";\r\nimport { getSpamPosts } from '../../../redux/actions/adminAction';\r\n\r\nconst Spam = () => {\r\n  const { auth, admin } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(getSpamPosts(auth.token));\r\n  }, [dispatch, auth.token])\r\n\r\n\r\n  return (\r\n    <div className=\"main_admin\">\r\n      <div className=\"main__container\">\r\n        <div className=\"main__title\">\r\n          <div className=\"main__greeting\">\r\n            <h1>Hello {auth.user.username}</h1>\r\n            <p>Spam Dashboard</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"spam\">\r\n          <ContentList content={admin.spam_posts} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spam;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n// import { follow, unfollow } from \"../redux/actions/profileAction\";\r\nimport { deleteUser } from '../../../redux/actions/adminAction';\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nconst Deleteuserbtn = ({user}) => {\r\n    // const [ followed, setFollowed ] = useState(false);\r\n\r\n    // const { auth, profile, socket } = useSelector(state => state);\r\n    const dispatch = useDispatch();\r\n\r\n    // const [load, setLoad] = useState(false);\r\n\r\n    // const [load, setLoad] = useState(false);\r\n    const {auth, profile, socket} = useSelector((state) => state);\r\n    // const dispatch = useDispatch();\r\n    // const history = useHistory();\r\n    // const handleDeletePost = () => {\r\n    //   if(window.confirm(\"Are you sure?\" , {user})){\r\n    //     dispatch(deleteUser({users: profile.users, user, auth, socket}));\r\n    //     return history.push(\"/\");\r\n    //   }\r\n      \r\n    // };\r\n    const handleDeleteUser = (user) => {\r\n       \r\n      dispatch(deleteUser({ user, auth }));\r\n     \r\n   };\r\n\r\n\r\n    return (\r\n      <>\r\n      <div\r\n                className=\"btn-1 hover-in-shadow outer-shadow\"\r\n                style={{ cursor: \"pointer\" }}\r\n                onClick={() => handleDeleteUser(user)}\r\n              >\r\n                {/* {user._id} */}\r\n                Delete\r\n              </div>\r\n          {/* <button className=\"btn-1 hover-in-shadow outer-shadow\" onClick={handleDeleteUser(user)} >\r\n            Delete User\r\n          </button> */}\r\n      </>\r\n    );\r\n}\r\n\r\nexport default Deleteuserbtn\r\n","import React from 'react';\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport UserCard from \"../../UserCard\";\r\nimport FollowBtn from \"../../FollowBtn\";\r\nimport LoadIcon from \"../../../images/loading.gif\";\r\nimport Viewuserinfobtn from '../../veiwuserinfobtn';\r\nimport Deleteuserbtn from './deleteuserbtn';\r\nimport { getSuggestions } from \"../../../redux/actions/suggestionsAction\";\r\nimport { GLOBALTYPES } from \"../../../redux/actions/globalTypes\";\r\nimport Search from '../../header/Search';\r\nconst Userinfo = () => {\r\n\r\n    const { auth, suggestions } = useSelector((state) => state);\r\n    const dispatch = useDispatch();\r\n    const mystyle = {\r\n      // className=\"btn-1 hover-in-shadow outer-shadow\"\r\n      // color: \"white\",\r\n      // backgroundColor: \"DodgerBlue\",\r\n      // padding: \"10px\",\r\n      // fontFamily: \"Arial\"\r\n      textDecoration : \"none\"\r\n    };\r\n\r\n  \r\n\r\n    return (\r\n        <div className=\"my-4\">\r\n        <div className=\"inner-shadow\" style={{ borderRadius: \"5px\" }}>\r\n          <UserCard user={auth.user} />\r\n        </div>\r\n        <div className=\"d-flex justify-content-between align-items-center my-2\">\r\n          <h5\r\n            className=\"color-c1\"\r\n            style={{ textShadow: \"var(--outer-shadow)\" }}\r\n          >\r\n            Manage Users :\r\n          </h5>\r\n          {!suggestions.loading && (\r\n            <div className=\"outer-shadow hover-in-shadow btn-1 d-flex justify-content-center align-items-center\">\r\n              <i\r\n                className=\"fas fa-redo \"\r\n                style={{ cursor: \"pointer\" }}\r\n                onClick={() => dispatch(getSuggestions(auth.token))}\r\n              />\r\n            </div>\r\n          )}\r\n        </div>\r\n            \r\n        {suggestions.loading ? (\r\n          <img\r\n            src={LoadIcon}\r\n            alt=\"Loading...\"\r\n            className=\"d-block mx-auto my-4\"\r\n          />\r\n        ) : (\r\n          <div className=\"suggestions\">\r\n            {suggestions.users.map((user) => (\r\n              <div\r\n                key={user._id}\r\n                className=\" mb-3 inner-shadow\"\r\n                style={{ borderRadius: \"5px\" }}\r\n              >\r\n                <UserCard key={user._id} user={user}>\r\n                  <div>\r\n                <Link className=\"btn-1 hover-in-shadow outer-shadow\" style={mystyle}  to={`/profile/${user._id}`}>\r\n              View Profile\r\n            </Link><Link className=\"btn-1 hover-in-shadow outer-shadow\" style={mystyle}  to={`/message/${user._id}`}>\r\n              Chat\r\n            </Link>\r\n            <Deleteuserbtn key={user._id} user={user} />\r\n            </div>\r\n            {/* <Link className=\"btn-1 hover-in-shadow outer-shadow\" style={mystyle}  to={`/delete_user/${user._id}`}>\r\n              Delete\r\n            </Link> */}\r\n\r\n                  {/* <FollowBtn key={user._id} user={user} /> */}\r\n                  {/* <Deleteuserbtn key={user._id} user={user} /> */}\r\n                </UserCard>\r\n              </div>\r\n              \r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Userinfo\r\n","import React from \"react\";\r\nimport \"../main/Main.css\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Userinfo from \"./userinfo\";\r\n\r\nconst UsersManagement = () => {\r\n  const { auth } = useSelector((state) => state);\r\n  return (\r\n    <div className=\"main_admin\">\r\n      <div className=\"main__container\">\r\n        <div className=\"main__title\">\r\n          <div className=\"main__greeting\">\r\n            <h1>Hello {auth.user.username}</h1>\r\n            <p>Welcome to your Admin Dashboard</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <Userinfo />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UsersManagement;\r\n","import { Link } from 'react-router-dom'\r\nimport { useDispatch } from \"react-redux\";\r\nimport { logout } from \"../../../redux/actions/authAction\";\r\nimport \"./Sidebar.css\";\r\nimport React, { useState } from \"react\";\r\nimport Main from \"../main/Main\";\r\nimport AdminManagement from \"../adminManagement/AdminManagement\";\r\nimport Spam from \"../spamManagement/Spam\";\r\nimport UsersManagement from \"../usersManagement/UsersManagement\";\r\nimport Search from '../../header/Search';\r\nconst Sidebar = () => {\r\n  const dispatch = useDispatch();\r\n  const [adminMenu, setAdminMenu] = useState(1);\r\n\r\n\r\n  return (\r\n    <>\r\n      {adminMenu === 1 && <Main />}\r\n      {adminMenu === 2 && <AdminManagement />}\r\n      {adminMenu === 3 && <Spam />}\r\n      {adminMenu === 4 && <UsersManagement />}\r\n\r\n      <div className=\"sidebar_responsive\" id=\"sidebar\">\r\n        <div className=\"sidebar__title\">\r\n          <div className=\"sidebar__img\">\r\n            <h1>Acro Connect</h1>\r\n          </div>\r\n          <i className=\"fa fa-times\" id=\"sidebarIcon\" aria-hidden=\"true\"></i>\r\n        </div>\r\n\r\n        <div className=\"sidebar__menu\">\r\n          <div\r\n            className={`sidebar__link ${adminMenu === 1 && \"active_menu_link\"}`}\r\n            onClick={() => setAdminMenu(1)}\r\n          >\r\n            <i className=\"fa fa-th\"></i>\r\n            <a href=\"#\">Dashboard</a>\r\n          </div>\r\n          <h2>ADMIN CONTROL</h2>\r\n          <div\r\n            className={`sidebar__link ${adminMenu === 2 && \"active_menu_link\"}`}\r\n            onClick={() => setAdminMenu(2)}\r\n          >\r\n            <i className=\"fa fa-lock\" aria-hidden=\"true\"></i>\r\n            <a href=\"#\">Admin Management</a>\r\n          </div>\r\n          <div\r\n            className={`sidebar__link ${adminMenu === 3 && \"active_menu_link\"}`}\r\n            onClick={() => setAdminMenu(3)}\r\n          >\r\n            <i className=\"fa fa-ban\"></i>\r\n            <a href=\"#\">Spams Management</a>\r\n          </div>\r\n          <div\r\n            className={`sidebar__link ${adminMenu === 4 && \"active_menu_link\"}`}\r\n            onClick={() => setAdminMenu(4)}\r\n          >\r\n            <i className=\"fa fa-wrench\"></i>\r\n            <a href=\"#\">Users Management</a>\r\n          </div>\r\n\r\n          <div className=\"sidebar__logout\">\r\n            <i className=\"fa fa-power-off\"></i>\r\n            <Link to=\"/\" onClick={() => dispatch(logout())}>\r\n              Log out\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n","import React from 'react';\r\n// import Main from '../components/adminDashboard/main/Main';\r\nimport Sidebar from \"../components/adminDashboard/sidebar/Sidebar\";\r\n\r\n\r\nconst AdminDashboard = () => {\r\n\r\n  return (\r\n    <div className=\"container1\">\r\n      <Sidebar />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AdminDashboard;\r\n","import React from 'react'\r\nimport Avatar from '../Avatar';\r\nimport { useSelector,useDispatch } from \"react-redux\";\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\r\n\r\nconst Status = () => {\r\n    const { auth } = useSelector(state => state);\r\n    const dispatch = useDispatch();\r\n    return (\r\n      <div className=\"status my-3 d-flex\">\r\n        <div className=\"outer-shadow big-avatar-cover\">\r\n          <Avatar src={auth.user.avatar} size=\"big-avatar\" className=\"\" />\r\n        </div>\r\n        <button\r\n          onClick={() => dispatch({ type: GLOBALTYPES.STATUS, payload: true })}\r\n          className=\"btn-1 outer-shadow hover-in-shadow statusBtn flex-fill \"\r\n          style={{ marginLeft: \"7px\" }}\r\n        >\r\n          <span style={{ textShadow: \"var(--outer-shadow)\" }}>\r\n            {auth.user.username}, What's on your mind?\r\n          </span>\r\n        </button>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Status\r\n","import React from 'react';\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\nimport UserCard from \"../UserCard\";\r\nimport FollowBtn from \"../FollowBtn\";\r\nimport LoadIcon from \"../../images/loading.gif\";\r\n\r\nimport { getSuggestions } from \"../../redux/actions/suggestionsAction\";\r\n\r\n\r\nconst RightSideBar = () => {\r\n\r\n    const { auth, suggestions } = useSelector((state) => state);\r\n    const dispatch = useDispatch();\r\n\r\n\r\n    return (\r\n      <div className=\"my-4\">\r\n        <div className=\"inner-shadow\" style={{ borderRadius: \"5px\" }}>\r\n          <UserCard user={auth.user} />\r\n        </div>\r\n        <div className=\"d-flex justify-content-between align-items-center my-2\">\r\n          <h5\r\n            className=\"color-c1\"\r\n            style={{ textShadow: \"var(--outer-shadow)\" }}\r\n          >\r\n            Suggestions\r\n          </h5>\r\n          {!suggestions.loading && (\r\n            <div className=\"outer-shadow hover-in-shadow btn-1 d-flex justify-content-center align-items-center\">\r\n              <i\r\n                className=\"fas fa-redo \"\r\n                style={{ cursor: \"pointer\" }}\r\n                onClick={() => dispatch(getSuggestions(auth.token))}\r\n              />\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {suggestions.loading ? (\r\n          <img\r\n            src={LoadIcon}\r\n            alt=\"Loading...\"\r\n            className=\"d-block mx-auto my-4\"\r\n          />\r\n        ) : (\r\n          <div className=\"suggestions\">\r\n            {suggestions.users.map((user) => (\r\n              <div\r\n                key={user._id}\r\n                className=\" mb-3 inner-shadow\"\r\n                style={{ borderRadius: \"5px\" }}\r\n              >\r\n                <UserCard key={user._id} user={user}>\r\n                  <FollowBtn key={user._id} user={user} />\r\n                </UserCard>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default RightSideBar\r\n","import React from 'react';\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport Posts from '../components/home/Posts';\r\nimport Status from '../components/home/Status';\r\nimport RightSideBar from \"../components/home/RightSideBar\";\r\n\r\nimport LoadIcon from '../images/loading.gif'\r\n\r\n\r\nconst Home = () => {\r\n  const { homePosts } = useSelector(state => state);\r\n    return (\r\n      <div className=\"home row mx-0\">\r\n        <div className=\"col-md-8\">\r\n          <Status />\r\n          {homePosts.loading ? (\r\n             <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto\" />\r\n          ) : (homePosts.result === 0 ? <h2 className=\"text-center\">No Post</h2> :<Posts />\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"col-md-4\">\r\n          <RightSideBar />\r\n        </div>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Home;\r\n","import React, { useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport PostCard from \"../PostCard\";\r\nimport LoadIcon from \"../../images/loading.gif\";\r\nimport LoadMoreBtn from \"../LoadMoreBtn\";\r\nimport { getDataAPI } from \"../../utils/fetchData\";\r\nimport { POST_TYPES } from \"../../redux/actions/postAction\";\r\n\r\nconst Posts = () => {\r\n  const { homePosts, auth, theme } = useSelector((state) => state);\r\n  const dispatch =  useDispatch();\r\n\r\n  const [load, setLoad] = useState(false);\r\n\r\n  const handleLoadMore = async () => {\r\n    setLoad(true);\r\n    const res = await getDataAPI(`posts?limit=${homePosts.page * 9}`, auth.token);\r\n    dispatch({ type: POST_TYPES.GET_POSTS, payload: {...res.data, page: homePosts.page + 1 } });\r\n    setLoad(false);\r\n  };\r\n  return (\r\n    <div className=\"posts\">\r\n      {homePosts.posts.map((post) => (\r\n        <PostCard key={post._id} post={post} theme={theme} />\r\n      ))}\r\n\r\n      {load && (\r\n        <img src={LoadIcon} alt=\"Loading...\" className=\"d-block mx-auto\" />\r\n      )}\r\n\r\n      <LoadMoreBtn\r\n        result={homePosts.result}\r\n        page={homePosts.page}\r\n        load={load}\r\n        handleLoadMore={handleLoadMore}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Posts;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes';\r\nimport { addUser, getConversations } from \"../../redux/actions/messageAction\";\r\nimport { getDataAPI } from '../../utils/fetchData';\r\nimport UserCard from \"../UserCard\";\r\n\r\nconst LeftSide = () => {\r\n    const { auth, message } = useSelector((state) => state);\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const { id } = useParams();\r\n    const pageEnd = useRef();\r\n    const [page, setPage] = useState(0);\r\n\r\n    const [search, setSearch] = useState('');\r\n    const [searchUsers, setSearchUsers] = useState([]);\r\n\r\n    const handleSearch = async e => {\r\n        e.preventDefault();\r\n        if (!search) return setSearchUsers([]);\r\n\r\n    try {\r\n      const res = await getDataAPI(`search?username=${search}`, auth.token);\r\n      setSearchUsers(res.data.users);\r\n    } catch (err) {\r\n      dispatch({\r\n        type: GLOBALTYPES.ALERT,\r\n        payload: { error: err.response.data.msg },\r\n      });\r\n    }\r\n    };\r\n\r\n    const handleAddUser = (user) => {\r\n        setSearch('');\r\n        setSearchUsers([]);\r\n        dispatch(addUser({user, message}));\r\n        return history.push(`/message/${user._id}`);\r\n    };\r\n\r\n    const isActive = (user) => {\r\n      if(id === user._id) return 'active';\r\n      return '';\r\n    }\r\n\r\n    useEffect(() => {\r\n      if (message.firstLoad) return;\r\n      dispatch(getConversations({ auth }));\r\n    }, [dispatch, auth, message.firstLoad]);\r\n\r\n     useEffect(() => {\r\n       const observer = new IntersectionObserver(\r\n         (entries) => {\r\n           if (entries[0].isIntersecting) {\r\n             setPage((p) => p + 1);\r\n           }\r\n         },\r\n         {\r\n           threshold: 0.1,\r\n         }\r\n       );\r\n       observer.observe(pageEnd.current);\r\n     }, [setPage]);\r\n\r\n     useEffect(() => {\r\n       if (message.resultUsers >= (page - 1) * 9 && page > 1) {\r\n         dispatch(getConversations({ auth, page }));\r\n       }\r\n     }, [message.resultUsers, page, auth, dispatch]);\r\n\r\n    return (\r\n      <>\r\n        <form className=\"message_header\" onSubmit={handleSearch}>\r\n          <input\r\n            type=\"text\"\r\n            value={search}\r\n            onChange={(e) => setSearch(e.target.value)}\r\n            placeholder=\"search...\"\r\n          />\r\n\r\n          <button style={{ display: \"none\" }} type=\"submit\" id=\"search\">\r\n            Search\r\n          </button>\r\n        </form>\r\n\r\n        <div className=\"message_chat_list\">\r\n          {searchUsers.length !== 0 ? (\r\n            <>\r\n              {searchUsers.map((user) => (\r\n                <div\r\n                  key={user._id}\r\n                  className={`message_user ${isActive(user)}`}\r\n                  onClick={() => handleAddUser(user)}\r\n                >\r\n                  <UserCard user={user} />\r\n                </div>\r\n              ))}\r\n            </>\r\n          ) : (\r\n            <>\r\n              {message.users.map((user) => (\r\n                <div\r\n                  key={user._id}\r\n                  cclassName={`message_user ${isActive(user)}`}\r\n                  onClick={() => handleAddUser(user)}\r\n                >\r\n                  <UserCard user={user} msg={true}>\r\n                    <i className=\"fas fa-circle\" />\r\n                  </UserCard>\r\n                </div>\r\n              ))}\r\n            </>\r\n          )}\r\n\r\n          <button style={{opacity: 0}} ref={pageEnd}>Load more..</button>\r\n        </div>\r\n      </>\r\n    );\r\n}\r\n\r\nexport default LeftSide\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst Carousel = ({ images, id }) => {\r\n  const { theme } = useSelector(state => state);\r\n    const isActive = index => {\r\n        if(index === 0) return \"active\";\r\n    }\r\n  return (\r\n    <div id={`image${id}`} className=\"carousel slide\" data-bs-ride=\"carousel\">\r\n      <div className=\"carousel-indicators\">\r\n        {images.map((img, index) => (\r\n          <button\r\n            key={index}\r\n            type=\"button\"\r\n            data-bs-target={`#image${id}`}\r\n            data-bs-slide-to={index}\r\n            className={isActive(index)}\r\n            aria-current=\"true\"\r\n          />\r\n        ))}\r\n      </div>\r\n      <div className=\"carousel-inner\">\r\n        {images.map((img, index) => (\r\n          <div key={index} className={`carousel-item ${isActive(index)}`}>\r\n            {console.log(img.url)}\r\n            <img\r\n                style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\r\n                src={img.url}\r\n                className=\"d-block w-100\"\r\n                alt={img.url}\r\n              />\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <button\r\n        style={{ width: \"5%\" }}\r\n        className=\"carousel-control-prev\"\r\n        type=\"button\"\r\n        data-bs-target={`#image${id}`}\r\n        data-bs-slide=\"prev\"\r\n      >\r\n        <span className=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n        <span className=\"visually-hidden\">Previous</span>\r\n      </button>\r\n      <button\r\n        style={{ width: \"5%\" }}\r\n        className=\"carousel-control-next\"\r\n        type=\"button\"\r\n        data-bs-target={`#image${id}`}\r\n        data-bs-slide=\"next\"\r\n      >\r\n        <span className=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n        <span className=\"visually-hidden\">Next</span>\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Carousel;\r\n","import React, { useState } from 'react'\r\nimport Carousel from '../../Carousel';\r\n\r\nconst CardBody = ({ post, theme }) => {\r\n  const [readMore, setReadMore] = useState();\r\n  return (\r\n    <div className=\"card_body\">\r\n      <div\r\n        className=\"card_body-content\"\r\n        style={{\r\n          filter: theme ? \"invert(1)\" : \"invert(0)\",\r\n          color: theme ? \"white\" : \"#111\",\r\n        }}\r\n      >\r\n        <span>\r\n          {post.content.length < 60\r\n            ? post.content\r\n            : readMore\r\n            ? post.content + \" \"\r\n            : post.content.slice(0, 60) + \"  ...\"}\r\n        </span>\r\n        {post.content.length > 60 && (\r\n          <span className=\"readMore\" onClick={() => setReadMore(!readMore)}>\r\n            {readMore ? \"Hide Content\" : \"Read More\"}\r\n          </span>\r\n        )}\r\n      </div>\r\n      {/* {console.log(post)} */}\r\n      {post.images.length > 0 && (\r\n        <Carousel images={post.images} id={post._id} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CardBody\r\n","import React from 'react'\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst LikeButton = ({ isLike, handleLike, handleUnLike }) => {\r\n    const { theme } = useSelector(state => state);\r\n  return (\r\n    <div>\r\n      {isLike ? (\r\n        <i\r\n          className=\"fas fa-thumbs-up text-info\"\r\n          style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\r\n          onClick={handleUnLike}\r\n        />\r\n      ) : (\r\n        <i className=\"far fa-thumbs-up\" onClick={handleLike} />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LikeButton\r\n","import React from 'react';\r\nimport {\r\n  EmailShareButton, EmailIcon,\r\n  FacebookShareButton, FacebookIcon,\r\n  LinkedinShareButton, LineIcon,\r\n  PinterestShareButton, PinterestIcon,\r\n  RedditShareButton, RedditIcon,\r\n  TelegramShareButton, TelegramIcon,\r\n  TwitterShareButton,TwitterIcon,\r\n  WhatsappShareButton, WhatsappIcon\r\n} from \"react-share\";\r\n\r\nconst ShareModal = ({ url, theme, setIsShare }) => {\r\n  return (\r\n    <div className=\"share_modal\">\r\n      <div className=\"share_modal-container\">\r\n        <div className=\"share_modal-header\">\r\n          <span>Share to...</span>\r\n          <span onClick={() => setIsShare(false)}>&times;</span>\r\n        </div>\r\n        <div\r\n          className=\" share_modal-body\"\r\n          style={{ filter: theme ? \"invert(1)\" : \"invert(0)\" }}\r\n        >\r\n          <FacebookShareButton url={url}>\r\n            <FacebookIcon round={true} size={32} />\r\n          </FacebookShareButton>\r\n\r\n          <TwitterShareButton url={url}>\r\n            <TwitterIcon round={true} size={32} />\r\n          </TwitterShareButton>\r\n\r\n          <EmailShareButton url={url}>\r\n            <EmailIcon round={true} size={32} />\r\n          </EmailShareButton>\r\n\r\n          <TelegramShareButton url={url}>\r\n            <TelegramIcon round={true} size={32} />\r\n          </TelegramShareButton>\r\n\r\n          <WhatsappShareButton url={url}>\r\n            <WhatsappIcon round={true} size={32} />\r\n          </WhatsappShareButton>\r\n\r\n          <PinterestShareButton url={url}>\r\n            <PinterestIcon round={true} size={32} />\r\n          </PinterestShareButton>\r\n\r\n          <RedditShareButton url={url}>\r\n            <RedditIcon round={true} size={32} />\r\n          </RedditShareButton>\r\n\r\n          <LinkedinShareButton url={url}>\r\n            <LineIcon round={true} size={32} />\r\n          </LinkedinShareButton>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShareModal\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Link } from \"react-router-dom\";\r\nimport LikeButton from '../../LikeButton';\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { likePost, savePost, unLikePost, unSavePost } from \"../../../redux/actions/postAction\";\r\nimport ShareModal from '../../ShareModal';\r\n// import { BASE_URL } from '../../../utils/config';\r\n\r\n\r\nconst CardFooter = ({post}) => {\r\n  const [isLike, setIsLike] = useState(false);\r\n  const [saved, setSaved] = useState(false);\r\n  const [loadLike, setLoadLike] = useState(false);\r\n  const [saveLoad, setSaveLoad] = useState(false);\r\n  const [isShare, setIsShare] = useState(false);\r\n\r\n  const dispatch = useDispatch();\r\n  const { auth, theme, socket } = useSelector((state) => state);\r\n\r\n  useEffect(() => {\r\n    if (post.likes.find((like) => like._id === auth.user._id)) {\r\n      setIsLike(true);\r\n    }else{\r\n      setIsLike(false);\r\n    }\r\n  }, [post.likes, auth.user._id]);\r\n\r\n  const handleLike = async () => {\r\n    if(loadLike) return;\r\n    setLoadLike(true);\r\n    await dispatch( likePost({post, auth, socket}) );\r\n    setLoadLike(false);\r\n  };\r\n\r\n  const handleUnLike = async () => {\r\n    if(loadLike) return;\r\n    setLoadLike(true);\r\n    await dispatch( unLikePost({post, auth, socket}) );\r\n    setLoadLike(false);\r\n  };\r\n\r\n    const handleSavePost = async () => {\r\n      if (saveLoad) return;\r\n      setSaveLoad(true);\r\n      await dispatch(savePost({ post, auth }));\r\n      setSaveLoad(false);\r\n    };\r\n\r\n    const handleUnSavePost = async () => {\r\n      if (saveLoad) return;\r\n      setSaveLoad(true);\r\n      await dispatch(unSavePost({ post, auth }));\r\n      setSaveLoad(false);\r\n    };\r\n\r\n    useEffect(() => {\r\n      if (auth.user.saved.find(id => id === post._id)) {\r\n        setSaved(true);\r\n      } else {\r\n        setSaved(false);\r\n      }\r\n    }, [post._id, auth.user.saved]);\r\n\r\n    return (\r\n      <div className=\"card_footer\">\r\n        <div className=\"card_icon_menu\">\r\n          <div className=\"d-flex\">\r\n            <LikeButton\r\n              isLike={isLike}\r\n              handleLike={handleLike}\r\n              handleUnLike={handleUnLike}\r\n            />\r\n            <Link to={`/post/${post._id}`} className=\"text-dark\">\r\n              <i className=\"far fa-comments\" />\r\n            </Link>\r\n            <i\r\n              className=\"fa fa-share\"\r\n              alt=\"Send\"\r\n              onClick={() => setIsShare(!isShare)}\r\n            />\r\n          </div>\r\n          {saved ? (\r\n            <i\r\n              className=\"fas text-info fa-bookmark\"\r\n              onClick={handleUnSavePost}\r\n            />\r\n          ) : (\r\n            <i\r\n              className=\"far fa-bookmark\"\r\n              onClick={handleSavePost}\r\n            />\r\n          )}\r\n        </div>\r\n        <div className=\"d-flex justify-content-start\">\r\n          <h6 style={{ padding: \"0 25px\", cursor: \"pointer\" }}>\r\n            {post.likes.length} likes\r\n          </h6>\r\n          <h6 style={{ padding: \"0 25px\", cursor: \"pointer\" }}>\r\n            {post.comments.length} comments\r\n          </h6>\r\n        </div>\r\n\r\n        {isShare && (\r\n          <ShareModal\r\n            // url={`${BASE_URL}/post/${post._id}`}\r\n            url=\"http://google.com\"\r\n            theme={theme}\r\n            setIsShare={setIsShare}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default CardFooter\r\n","import React from \"react\";\r\nimport Avatar from \"../../Avatar\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport moment from \"moment\";\r\nimport { BASE_URL } from '../../../utils/config'\r\n\r\nimport { GLOBALTYPES } from \"../../../redux/actions/globalTypes\";\r\nimport { deletePost, reportPost } from \"../../../redux/actions/postAction\";\r\n\r\nconst CardHeader = ({ post }) => {\r\n  const { auth, socket } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const handleEditPost = () => {\r\n    dispatch({ type: GLOBALTYPES.STATUS, payload: { ...post, onEdit: true } });\r\n  };\r\n\r\n  const handleDeletePost = () => {\r\n    if(window.confirm(\"Are you sure?\")){\r\n      dispatch(deletePost({ post, auth, socket }));\r\n      return history.push(\"/\");\r\n    }\r\n    \r\n  };\r\n\r\n\r\n  const handleReportPost = () => {\r\n    dispatch(reportPost({post, auth}));\r\n  };\r\n\r\n  const handleCopyLink = () => {\r\n    navigator.clipboard.writeText(`${BASE_URL}/post/${post._id}`)\r\n  };\r\n\r\n  return (\r\n    <div className=\"card_header\">\r\n      <div className=\"d-flex\">\r\n        <div className=\"outer-shadow big-avatar-cover me-2\">\r\n          <Avatar src={post.user.avatar} size=\"big-avatar\" />\r\n        </div>\r\n        <div className=\"card_name\">\r\n          <h6 className=\"m-0\">\r\n            <Link className=\"text-dark\" to={`/profile/${post.user._id}`}>\r\n              {post.user.username}\r\n            </Link>\r\n          </h6>\r\n          <small className=\"text-muted\">\r\n            {moment(post.createdAt).fromNow()}\r\n          </small>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"nav-item dropdown\">\r\n        <span\r\n          className=\"material-icons\"\r\n          id=\"moreLink\"\r\n          data-bs-toggle=\"dropdown\"\r\n        >\r\n          more_horiz\r\n        </span>\r\n\r\n        <div className=\"dropdown-menu\">\r\n          {auth.user._id === post.user._id && (\r\n            <>\r\n              <div className=\"dropdown-item\" onClick={handleEditPost}>\r\n                <span className=\"material-icons text-info\"> create</span>Edit\r\n                Post\r\n              </div>\r\n              <div className=\"dropdown-item\" onClick={handleDeletePost}>\r\n                <span className=\"material-icons text-red\"> delete</span>Delete\r\n                Post\r\n              </div>\r\n            </>\r\n          )}\r\n\r\n          <div className=\"dropdown-item\" onClick={handleCopyLink}>\r\n            <span className=\"material-icons text-primary\">content_copy</span>\r\n            Copy Link\r\n          </div>\r\n          <div className=\"dropdown-item\" onClick={handleReportPost}>\r\n            <span className=\"material-icons text-yellow\">report_problem</span>\r\n            Report this post\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CardHeader;\r\n","export const BASE_URL = \"http://localhost:3000\"","import { GLOBALTYPES, EditData, DeleteData } from \"./globalTypes\";\r\nimport { POST_TYPES } from \"./postAction\";\r\nimport { createNotify, removeNotify } from \"./notifyAction\";\r\nimport { postDataAPI, patchDataAPI, deleteDataAPI } from \"../../utils/fetchData\";\r\n\r\n\r\n\r\n\r\nexport const createComment = ({post, newComment, auth, socket}) => async (dispatch) => {\r\n    const newPost = {...post, comments: [...post.comments, newComment]};\r\n    \r\n    dispatch({type: POST_TYPES.UPDATE_POST, payload: newPost});\r\n\r\n    try {\r\n      const data = {\r\n        ...newComment,\r\n        postId: post._id,\r\n        postUserId: post.user._id,\r\n      };\r\n      const res = await postDataAPI(\"comment\", data, auth.token);\r\n\r\n      const newData = { ...res.data.newComment, user: auth.user };\r\n      const newPost = { ...post, comments: [...post.comments, newData] };\r\n      dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n\r\n      // todo socket\r\n      socket.emit(\"createComment\", newPost);\r\n\r\n      // todo notification\r\n      const msg = {\r\n        id: res.data.newComment._id,\r\n        text: newComment.reply\r\n          ? \"mentioned you in a comment.\"\r\n          : \"commented on your post.\",\r\n        recipients: newComment.reply ? [newComment.tag._id] : [post.user._id],\r\n        url: `/post/${post._id}`,\r\n        content: newComment.reply\r\n          ? newComment.content\r\n          : post.content,\r\n        image: post.images[0].url,\r\n      };\r\n\r\n      dispatch(createNotify({ msg, auth, socket }));\r\n    } catch (err) {\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}});\r\n    }\r\n};\r\n\r\n\r\nexport const updateComment = ({comment, post, content, auth}) => async (dispatch) => {\r\n  const newComments = EditData(post.comments, comment._id, {...comment, content});\r\n  const newPost = {...post, comments: newComments};\r\n  \r\n  dispatch({type: POST_TYPES.UPDATE_POST, payload: newPost});\r\n\r\n  try {\r\n    await patchDataAPI(`comment/${comment._id}`, { content }, auth.token);\r\n\r\n  } catch (err) {\r\n    dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}});\r\n  }\r\n};\r\n\r\nexport const likeComment= ({comment, post, auth}) => async (dispatch) => {\r\n    const newComment = {...comment, likes: [...comment.likes, auth.user]};\r\n     const newComments = EditData(post.comments, comment._id, newComment);\r\n     const newPost = { ...post, comments: newComments };\r\n\r\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n    try {\r\n        await patchDataAPI(`comment/${comment._id}/like`, null, auth.token);\r\n    } catch (err) {\r\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}});\r\n\r\n    }\r\n};\r\n\r\nexport const unLikeComment = ({ comment, post, auth }) => async (dispatch) => {\r\n  const newComment = { ...comment, likes: DeleteData(comment.likes, auth.user._id) };\r\n  const newComments = EditData(post.comments, comment._id, newComment);\r\n  const newPost = { ...post, comments: newComments };\r\n\r\n  dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\r\n  try {\r\n    await patchDataAPI(`comment/${comment._id}/unlike`, null, auth.token);\r\n\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg },\r\n    });\r\n  }\r\n};\r\n\r\n\r\nexport const deleteComment = ({ post, comment, auth, socket }) => async (dispatch) => {\r\n  const deleteArr = [...post.comments.filter(cm => cm.reply === comment._id), comment];\r\n\r\n  const newPost = {\r\n    ...post,\r\n    comments: post.comments.filter(cm => !deleteArr.find(da => cm._id === da._id))\r\n  }\r\n\r\n  dispatch({type: POST_TYPES.UPDATE_POST, payload: newPost});\r\n\r\n  socket.emit('deleteComment', newPost);\r\n\r\n  try {\r\n    deleteArr.forEach(item => {\r\n      deleteDataAPI(`comment/${item._id}`, auth.token);\r\n\r\n      // todo notification\r\n      const msg = {\r\n        id: item._id,\r\n        text: item.reply\r\n          ? \"mentioned you in a comment.\"\r\n          : \"commented on your post.\",\r\n        recipients: item.reply ? [item.tag._id] : [post.user._id],\r\n        url: `/post/${post._id}`,\r\n      };\r\n\r\n      dispatch(removeNotify({ msg, auth, socket }));\r\n    })\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg },\r\n    });\r\n  }\r\n};","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { deleteComment } from '../../../redux/actions/commentAction';\r\n\r\nconst CommentMenu = ({ post, comment, setOnEdit }) => {\r\n  const { auth, socket } = useSelector(state => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleRemove = () => {\r\n    if(post.user._id === auth.user._id || comment.user._id === auth.user._id){\r\n      dispatch(deleteComment({ post, auth, comment, socket }));\r\n    }\r\n  };\r\n\r\n  const MenuItem = () => {\r\n    return (\r\n      <>\r\n        <div className=\"dropdown-item\" onClick={() => setOnEdit(true)}>\r\n          <span className=\"material-icons text-primary\">create</span> Edit\r\n        </div>\r\n        <div className=\"dropdown-item\" onClick={handleRemove}>\r\n          <span className=\"material-icons text-red\">delete_outline</span> Delete\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n  return (\r\n    <div className=\"menu\">\r\n      {(post.user._id === auth.user._id ||\r\n        comment.user._id === auth.user._id) && (\r\n        <div className=\"nav-item dropdown\">\r\n          <span\r\n            className=\"material-icons\"\r\n            id=\"moreLink\"\r\n            data-bs-toggle=\"dropdown\"\r\n          >\r\n            more_vert\r\n          </span>\r\n          <div className=\"dropdown-menu\" aria-labelledby=\"moreLink\">\r\n            {post.user._id === auth.user._id ? (\r\n              comment.user._id === auth.user._id ? (\r\n                MenuItem()\r\n              ) : (\r\n                <div className=\"dropdown-item\" onClick={handleRemove}>\r\n                  <span className=\"material-icons\">delete_outline</span> Delete\r\n                </div>\r\n              )\r\n            ) : (\r\n              comment.user._id === auth.user._id && MenuItem()\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommentMenu\r\n","import React, { useState } from 'react';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { createComment } from '../../redux/actions/commentAction';\r\nimport Icons from '../Icons';\r\n\r\nconst InputComment = ({ children, post, onReply, setOnReply }) => {\r\n  const [content, setContent] = useState(\"\");\r\n\r\n  const { auth, socket, theme } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (!content.trim()){\r\n      if(setOnReply){return setOnReply(false)}\r\n      return;\r\n    }\r\n\r\n    setContent(\"\");\r\n\r\n    const newComment = {\r\n      content,\r\n      likes: [],\r\n      user: auth.user,\r\n      createdAt: new Date().toISOString(),\r\n      reply: onReply && onReply.commentId,\r\n      tag: onReply && onReply.user\r\n    };\r\n    dispatch(createComment({ post, newComment, auth, socket }));\r\n    if (setOnReply) {\r\n      return setOnReply(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form className=\"card-footer comment_input\" onSubmit={handleSubmit}>\r\n      {children}\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Add comments...\"\r\n        value={content}\r\n        onChange={(e) => setContent(e.target.value)}\r\n        style={{\r\n          filter: theme ? \"invert(1)\" : \"invert(0)\",\r\n          color: theme ? \"white\" : \"#111\",\r\n          background: theme ? \"rgb(0,0,0,0.3)\" : \"\",\r\n        }}\r\n      />\r\n      <Icons setContent={setContent} content={content} theme={theme} />\r\n      <button type=\"submit\" className=\"postBtn\">\r\n        Post\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default InputComment;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Avatar from '../../Avatar';\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector , useDispatch } from \"react-redux\";\r\nimport moment from 'moment';\r\nimport LikeButton from \"../../LikeButton\";\r\nimport CommentMenu from './CommentMenu';\r\nimport { likeComment, unLikeComment, updateComment } from '../../../redux/actions/commentAction';\r\nimport InputComment from \"../InputComment\";\r\n\r\nconst CommentCard = ({ children, comment, post, commentId }) => {\r\n  const { auth, theme } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  const [content, setContent] = useState(\"\");\r\n  const [readMore, setReadMore] = useState(false);\r\n\r\n  const [isLike, setIsLike] = useState(false);\r\n  const [loadLike, setLoadLike] = useState(false);\r\n  const [onEdit, setOnEdit] = useState(false);\r\n  const [onReply, setOnReply] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setContent(comment.content);\r\n    setIsLike(false);\r\n    setOnReply(false);\r\n    if (comment.likes.find((like) => like._id === auth.user._id)) {\r\n      setIsLike(true);\r\n    }\r\n  }, [comment, auth.user._id]);\r\n\r\n  const handleUpdate = () => {\r\n    if (comment.content !== content) {\r\n      dispatch(updateComment({ comment, post, content, auth }));\r\n      setOnEdit(false);\r\n    } else {\r\n      setOnEdit(false);\r\n    }\r\n  };\r\n\r\n  const handleLike = async () => {\r\n    if (loadLike) return;\r\n\r\n    setIsLike(true);\r\n\r\n    setLoadLike(true);\r\n    await dispatch(likeComment({ comment, post, auth }));\r\n    setLoadLike(false);\r\n  };\r\n\r\n  const handleUnLike = async () => {\r\n    if (loadLike) return;\r\n\r\n    setIsLike(false);\r\n    setLoadLike(true);\r\n    await dispatch(unLikeComment({ comment, post, auth }));\r\n    setLoadLike(false);\r\n  };\r\n\r\n  const handleReply = () => {\r\n    if (onReply) {\r\n      return setOnReply(false);\r\n    }\r\n    setOnReply({...comment, commentId});\r\n  };\r\n\r\n  const styleCard = {\r\n    opacity: comment._id ? 1 : 0.5,\r\n    pointerEvents: comment._id ? \"inherit\" : \"none\",\r\n  };\r\n\r\n  return (\r\n    <div className=\"comment_card mt-2\" style={styleCard}>\r\n      <Link to={`/profile/${comment.user._id}`} className=\"d-flex text-dark\">\r\n        <Avatar src={comment.user.avatar} size=\"small-avatar\" />\r\n        <h6 className=\"mx-1\">{comment.user.username}</h6>\r\n      </Link>\r\n\r\n      <div className=\"comment_content\">\r\n        <div\r\n          className=\"flex-fill\"\r\n          style={{\r\n            filter: theme ? \"invert(1)\" : \"invert(0)\",\r\n            color: theme ? \"white\" : \"#111\",\r\n          }}\r\n        >\r\n          {onEdit ? (\r\n            <textarea\r\n              rows=\"5\"\r\n              value={content}\r\n              onChange={(e) => setContent(e.target.value)}\r\n            />\r\n          ) : (\r\n            <div>\r\n              {comment.tag && comment.tag._id !== comment.user._id && (\r\n                <Link\r\n                  to={`/profile/${comment.tag._id}`}\r\n                  style={{ textDecoration: \"none\" }}\r\n                  className=\"me-1\"\r\n                >\r\n                  @{comment.tag.username}\r\n                </Link>\r\n              )}\r\n              <span>\r\n                {content.length < 100\r\n                  ? content\r\n                  : readMore\r\n                  ? content + \" \"\r\n                  : content.slice(0, 100) + \"...\"}\r\n              </span>\r\n              {content.length > 100 && (\r\n                <span\r\n                  className=\"readMore\"\r\n                  onClick={() => setReadMore(!readMore)}\r\n                >\r\n                  {readMore ? \"Hide \" : \"Read more\"}\r\n                </span>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          <div style={{ cursor: \"pointer\" }}>\r\n            <small className=\"text-muted\" style={{ marginRight: \"9px\" }}>\r\n              {moment(comment.createdAt).fromNow()}\r\n            </small>\r\n\r\n            <small\r\n              style={{ fontWeight: \"bold\", marginRight: \"9px\" }}\r\n              className=\"mr3\"\r\n            >\r\n              {comment.likes.length} likes\r\n            </small>\r\n            {onEdit ? (\r\n              <>\r\n                <small\r\n                  onClick={handleUpdate}\r\n                  style={{ fontWeight: \"bold\", marginRight: \"9px\" }}\r\n                  className=\"mr3\"\r\n                >\r\n                  update\r\n                </small>\r\n                <small\r\n                  onClick={() => setOnEdit(false)}\r\n                  style={{ fontWeight: \"bold\", marginRight: \"9px\" }}\r\n                  className=\"mr3\"\r\n                >\r\n                  cancel\r\n                </small>\r\n              </>\r\n            ) : (\r\n              <small\r\n                style={{ fontWeight: \"bold\", marginRight: \"9px\" }}\r\n                className=\"mr3\"\r\n                onClick={handleReply}\r\n              >\r\n                {onReply ? \"cancel\" : \"reply\"}\r\n              </small>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          className=\"d-flex align-items-center \"\r\n          style={{ cursor: \"pointer\" }}\r\n        >\r\n          <CommentMenu post={post} comment={comment} setOnEdit={setOnEdit} />\r\n\r\n          <LikeButton\r\n            isLike={isLike}\r\n            handleLike={handleLike}\r\n            handleUnLike={handleUnLike}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {onReply && (\r\n        <InputComment post={post} onReply={onReply} setOnReply={setOnReply}>\r\n          <Link\r\n            style={{ textDecoration: \"none\" }}\r\n            className=\"mr-1\"\r\n            to={`/profile/${onReply.user._id}`}\r\n          >\r\n            @{onReply.user.username}\r\n          </Link>\r\n        </InputComment>\r\n      )}\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommentCard\r\n","import React, { useEffect, useState } from 'react'\r\nimport CommentCard from './CommentCard'\r\n\r\nconst CommentDisplay = ({ comment, post, replyCm }) => {\r\n  const [showRep, setShowRep] = useState([]);\r\n  const [next, setNext] = useState(1);\r\n\r\n  useEffect(() => {\r\n    setShowRep(replyCm.slice(replyCm.length - next));\r\n  }, [replyCm, next]);\r\n\r\n  return (\r\n    <div className=\"comment_display\">\r\n      <CommentCard post={post} comment={comment} commentId={comment._id}>\r\n        <div className=\"ps-4\">\r\n          {showRep.map(\r\n            (item, index) =>\r\n              item.reply && (\r\n                <CommentCard\r\n                  comment={item}\r\n                  key={index}\r\n                  post={post}\r\n                  commentId={comment._id}\r\n                />\r\n              )\r\n          )}\r\n\r\n          {replyCm.length - next > 0 ? (\r\n            <div\r\n              onClick={() => setNext(next + 10)}\r\n              style={{ cursor: \"pointer\", color: \"crimson\" }}\r\n            >\r\n              Load more...\r\n            </div>\r\n          ) : (\r\n            replyCm.length > 1 && (\r\n              <div\r\n                onClick={() => setNext(1)}\r\n                style={{ cursor: \"pointer\", color: \"crimson\" }}\r\n              >\r\n                Hide...\r\n              </div>\r\n            )\r\n          )}\r\n        </div>\r\n      </CommentCard>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommentDisplay\r\n","import React, { useState, useEffect} from 'react'\r\nimport CommentDisplay from './comments/CommentDisplay'\r\n\r\nconst Comments = ({post}) => {\r\n  const [comments, setComments] = useState([]);\r\n  const [showComments, setShowComments] = useState([]);\r\n  const [next, setNext] = useState(2);\r\n  const [replyComments, setReplyComments] = useState([]);\r\n\r\n\r\n  useEffect(() => {\r\n    const newCm = post.comments.filter((cm) => !cm.reply);\r\n    setComments(newCm);\r\n    setShowComments(newCm.slice(newCm.length - next));\r\n  }, [post.comments, next]);\r\n\r\n  useEffect(() => {\r\n    const newReply = post.comments.filter((cm) => cm.reply);\r\n    setReplyComments(newReply);\r\n  }, [post.comments]);\r\n\r\n    return (\r\n      <div className=\"comments\">\r\n        {showComments.map((comment, index) => (\r\n          <CommentDisplay\r\n            key={index}\r\n            comment={comment}\r\n            post={post}\r\n            replyCm={replyComments.filter((item) => item.reply === comment._id)}\r\n          />\r\n        ))}\r\n        {comments.length - next > 0 ? (\r\n          <div\r\n            onClick={() => setNext(next + 10)}\r\n            className=\"p-2 border-top\"\r\n            style={{ cursor: \"pointer\", color: \"crimson\" }}\r\n          >\r\n            Load more...\r\n          </div>\r\n        ) : (\r\n          comments.length > 2 && (\r\n            <div\r\n              onClick={() => setNext(2)}\r\n              className=\"p-2 border-top\"\r\n              style={{ cursor: \"pointer\", color: \"crimson\" }}\r\n            >\r\n              Hide...\r\n            </div>\r\n          )\r\n        )}\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Comments\r\n","import React from 'react';\r\nimport CardBody from \"./home/post_card/CardBody\";\r\nimport CardFooter from \"./home/post_card/CardFooter\";\r\nimport CardHeader from \"./home/post_card/CardHeader\";\r\nimport Comments from './home/Comments';\r\nimport InputComment from \"./home/InputComment\";\r\n\r\n\r\nconst PostCard = ({ post, theme }) => {\r\n  return (\r\n    <div className=\"card my-3 outer-shadow\">\r\n      <CardHeader post={post} />\r\n      <CardBody post={post} theme={theme} />\r\n      <CardFooter post={post} />\r\n\r\n      <Comments post={post} />\r\n      <InputComment post={post} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostCard\r\n","import axios from 'axios';\r\n\r\nexport const getDataAPI = async (url,token) => {\r\n    const res = await axios.get(`/api/${url}`,{\r\n        headers: { Authorization: token}\r\n    });\r\n    return res;\r\n}\r\n\r\nexport const postDataAPI = async (url, post, token) => {\r\n  const res = await axios.post(`/api/${url}`, post, {\r\n    headers: { Authorization: token },\r\n  });\r\n  return res;\r\n};\r\n\r\nexport const putDataAPI = async (url, post, token) => {\r\n  const res = await axios.put(`/api/${url}`, post, {\r\n    headers: { Authorization: token },\r\n  });\r\n  return res;\r\n};\r\n\r\nexport const patchDataAPI = async (url, post, token) => {\r\n  const res = await axios.patch(`/api/${url}`, post, {\r\n    headers: { Authorization: token },\r\n  });\r\n  return res;\r\n};\r\n\r\n\r\nexport const deleteDataAPI = async (url, token) => {\r\n  const res = await axios.delete(`/api/${url}`, {\r\n    headers: { Authorization: token },\r\n  });\r\n  return res;\r\n};"],"sourceRoot":""}